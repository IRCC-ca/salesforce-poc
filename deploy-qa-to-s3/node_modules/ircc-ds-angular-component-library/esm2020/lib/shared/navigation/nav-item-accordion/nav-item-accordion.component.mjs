import { Input } from '@angular/core';
import { Component } from '@angular/core';
import { Subscription } from 'rxjs';
import * as i0 from "@angular/core";
import * as i1 from "../navigation.service";
import * as i2 from "@angular/common";
import * as i3 from "../../icon-button/icon-button.component";
import * as i4 from "../nav-item-heading/nav-item-heading.component";
export class navItemAccordionComponent {
    constructor(navEvent) {
        this.navEvent = navEvent;
        this.config = {
            id: '',
            open: false,
            label: '',
            size: 'small',
            type: 'accordion',
            children: [],
            leftPadding: false,
            bold: true
        };
        this.id = '';
        this.label = '';
        this.iconLeading = '';
        this.headerID = '';
        this.buttonIconOpen = {
            id: `${this.config.id}-button`,
            category: 'custom',
            size: this.config?.size,
            icon: {
                class: 'fa-light fa-arrow-right',
                color: 'var(--text-primary)'
            }
        };
        this.buttonIconClose = {
            id: `${this.config.id}-button`,
            category: 'custom',
            size: this.config?.size,
            icon: {
                class: 'fa-light fa-arrow-right',
                color: 'var(--text-primary)'
            }
        };
        this.navObjectChangeSub = new Subscription();
    }
    ngOnInit() {
        // this.navObjectChangeSub = this.navEvent.navObjectChangeObs$.pipe(
        //   filter(item => (item.id === this.config.id && item.type === 'accordion'))).subscribe(response => {
        //     this.config = response as NavigationItemAccordion;
        //   });
        this.id !== '' ? (this.config.id = this.id) : undefined;
        this.open !== undefined ? (this.config.open = this.open) : undefined;
        this.bold !== undefined ? (this.config.bold = this.bold) : undefined;
        if (this.config?.bold != true && this.config?.bold != false) {
            this.config.bold = true;
        }
        this.leftPadding !== undefined
            ? (this.config.leftPadding = this.leftPadding)
            : undefined;
        this.label !== '' ? (this.config.label = this.label) : undefined;
        this.size !== undefined ? (this.config.size = this.size) : undefined;
        this.iconLeading !== ''
            ? (this.config.iconLeading = this.iconLeading)
            : undefined;
        this.headerID = `${this.config.id}_header`;
        this.buttonIconOpen = {
            id: `${this.config.id}_button_open`,
            category: 'custom',
            size: this.config?.size,
            icon: {
                class: 'fa-light fa-chevron-up',
                color: 'var(--text-primary)'
            }
        };
        this.buttonIconClose = {
            id: `${this.config.id}_button_close`,
            category: 'custom',
            size: this.config?.size,
            icon: {
                class: 'fa-light fa-chevron-down',
                color: 'var(--text-primary)'
            }
        };
    }
    openAccordion(event) {
        this.config.open = !this.config.open;
        this.navEvent.navEvent({ id: this.config.id, event: event });
    }
    enterPress(event) {
        this.config.open = !this.config.open;
    }
}
navItemAccordionComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: navItemAccordionComponent, deps: [{ token: i1.NavigationService }], target: i0.ɵɵFactoryTarget.Component });
navItemAccordionComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.2.12", type: navItemAccordionComponent, selector: "ircc-cl-lib-nav-accordion", inputs: { config: "config", id: "id", open: "open", label: "label", size: "size", iconLeading: "iconLeading", leftPadding: "leftPadding", bold: "bold" }, ngImport: i0, template: "<div\n  [id]=\"config.id\"\n  class=\"lib-nav-item\"\n>\n  <div class=\"accordion-panel\">\n    <div\n      class=\"accordion-nav\"\n      (keydown.enter)=\"enterPress($event)\"\n    >\n      <ircc-cl-lib-nav-header\n        [id]=\"headerID\"\n        [attr.size]=\"config.size\"\n        [size]=\"config.size\"\n        [label]=\"config?.label || ''\"\n        [iconLeading]=\"config?.iconLeading || ''\"\n        [leftPadding]=\"config?.leftPadding\"\n        [bold]=\"config?.bold\"\n      >\n      </ircc-cl-lib-nav-header>\n\n      <ircc-cl-lib-icon-button\n        *ngIf=\"config.open === true\"\n        (clickEvent)=\"openAccordion($event)\"\n        [config]=\"buttonIconOpen\"\n        [attr.size]=\"config.size\"\n        class=\"open\"\n      ></ircc-cl-lib-icon-button>\n      <ircc-cl-lib-icon-button\n        *ngIf=\"config.open === false\"\n        (clickEvent)=\"openAccordion($event)\"\n        [attr.size]=\"config.size\"\n        [config]=\"buttonIconClose\"\n        class=\"close\"\n      ></ircc-cl-lib-icon-button>\n    </div>\n    <div\n      [class]=\"\n        config.open ? 'open accordion-content' : 'close accordion-content'\n      \"\n    >\n      <ng-content></ng-content>\n    </div>\n  </div>\n</div>\n", dependencies: [{ kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i3.IconButtonComponent, selector: "ircc-cl-lib-icon-button", inputs: ["config", "id", "category", "size", "ariaLabel", "disabled", "icon"], outputs: ["clickEvent"] }, { kind: "component", type: i4.navItemHeadingComponent, selector: "ircc-cl-lib-nav-header", inputs: ["config", "id", "label", "iconLeading", "children", "size", "leftPadding", "bold"] }], preserveWhitespaces: true });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: navItemAccordionComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ircc-cl-lib-nav-accordion', template: "<div\n  [id]=\"config.id\"\n  class=\"lib-nav-item\"\n>\n  <div class=\"accordion-panel\">\n    <div\n      class=\"accordion-nav\"\n      (keydown.enter)=\"enterPress($event)\"\n    >\n      <ircc-cl-lib-nav-header\n        [id]=\"headerID\"\n        [attr.size]=\"config.size\"\n        [size]=\"config.size\"\n        [label]=\"config?.label || ''\"\n        [iconLeading]=\"config?.iconLeading || ''\"\n        [leftPadding]=\"config?.leftPadding\"\n        [bold]=\"config?.bold\"\n      >\n      </ircc-cl-lib-nav-header>\n\n      <ircc-cl-lib-icon-button\n        *ngIf=\"config.open === true\"\n        (clickEvent)=\"openAccordion($event)\"\n        [config]=\"buttonIconOpen\"\n        [attr.size]=\"config.size\"\n        class=\"open\"\n      ></ircc-cl-lib-icon-button>\n      <ircc-cl-lib-icon-button\n        *ngIf=\"config.open === false\"\n        (clickEvent)=\"openAccordion($event)\"\n        [attr.size]=\"config.size\"\n        [config]=\"buttonIconClose\"\n        class=\"close\"\n      ></ircc-cl-lib-icon-button>\n    </div>\n    <div\n      [class]=\"\n        config.open ? 'open accordion-content' : 'close accordion-content'\n      \"\n    >\n      <ng-content></ng-content>\n    </div>\n  </div>\n</div>\n" }]
        }], ctorParameters: function () { return [{ type: i1.NavigationService }]; }, propDecorators: { config: [{
                type: Input
            }], id: [{
                type: Input
            }], open: [{
                type: Input
            }], label: [{
                type: Input
            }], size: [{
                type: Input
            }], iconLeading: [{
                type: Input
            }], leftPadding: [{
                type: Input
            }], bold: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmF2LWl0ZW0tYWNjb3JkaW9uLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2NvbXBvbmVudC1saWIvc3JjL2xpYi9zaGFyZWQvbmF2aWdhdGlvbi9uYXYtaXRlbS1hY2NvcmRpb24vbmF2LWl0ZW0tYWNjb3JkaW9uLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2NvbXBvbmVudC1saWIvc3JjL2xpYi9zaGFyZWQvbmF2aWdhdGlvbi9uYXYtaXRlbS1hY2NvcmRpb24vbmF2LWl0ZW0tYWNjb3JkaW9uLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBZ0IsS0FBSyxFQUFVLE1BQU0sZUFBZSxDQUFDO0FBRTVELE9BQU8sRUFBRSxTQUFTLEVBQVUsTUFBTSxlQUFlLENBQUM7QUFHbEQsT0FBTyxFQUFFLFlBQVksRUFBVSxNQUFNLE1BQU0sQ0FBQzs7Ozs7O0FBTzVDLE1BQU0sT0FBTyx5QkFBeUI7SUEyQ3BDLFlBQW9CLFFBQTJCO1FBQTNCLGFBQVEsR0FBUixRQUFRLENBQW1CO1FBMUN0QyxXQUFNLEdBQTZCO1lBQzFDLEVBQUUsRUFBRSxFQUFFO1lBQ04sSUFBSSxFQUFFLEtBQUs7WUFDWCxLQUFLLEVBQUUsRUFBRTtZQUNULElBQUksRUFBRSxPQUFPO1lBQ2IsSUFBSSxFQUFFLFdBQVc7WUFDakIsUUFBUSxFQUFFLEVBQUU7WUFDWixXQUFXLEVBQUUsS0FBSztZQUNsQixJQUFJLEVBQUUsSUFBSTtTQUNYLENBQUM7UUFDTyxPQUFFLEdBQVcsRUFBRSxDQUFDO1FBRWhCLFVBQUssR0FBVyxFQUFFLENBQUM7UUFFbkIsZ0JBQVcsR0FBVyxFQUFFLENBQUM7UUFJbEMsYUFBUSxHQUFXLEVBQUUsQ0FBQztRQUV0QixtQkFBYyxHQUErQjtZQUMzQyxFQUFFLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsU0FBUztZQUM5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QUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsZUFBZTtZQUNwQyxRQUFRLEVBQUUsUUFBUTtZQUNsQixJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJO1lBQ3ZCLElBQUksRUFBRTtnQkFDSixLQUFLLEVBQUUsMEJBQTBCO2dCQUNqQyxLQUFLLEVBQUUscUJBQXFCO2FBQzdCO1NBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRCxhQUFhLENBQUMsS0FBVTtRQUN0QixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ3JDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO0lBQy9ELENBQUM7SUFFRCxVQUFVLENBQUMsS0FBVTtRQUNuQixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ3ZDLENBQUM7O3VIQW5HVSx5QkFBeUI7MkdBQXpCLHlCQUF5QiwyTkNadEMsc3RDQTRDQTs0RkRoQ2EseUJBQXlCO2tCQUpyQyxTQUFTOytCQUNFLDJCQUEyQjt3R0FJNUIsTUFBTTtzQkFBZCxLQUFLO2dCQVVHLEVBQUU7c0JBQVYsS0FBSztnQkFDRyxJQUFJO3NCQUFaLEtBQUs7Z0JBQ0csS0FBSztzQkFBYixLQUFLO2dCQUNHLElBQUk7c0JBQVosS0FBSztnQkFDRyxXQUFXO3NCQUFuQixLQUFLO2dCQUNHLFdBQVc7c0JBQW5CLEtBQUs7Z0JBQ0csSUFBSTtzQkFBWixLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBEU1NpemVzIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2hhcmVkL2NvbnN0YW50cy9qbC1jb21wb25lbnRzLmNvbnN0YW50cyc7XG5pbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSU5hdmlnYXRpb25JdGVtQWNjb3JkaW9uIH0gZnJvbSAnLi4vbmF2aWdhdGlvbi50eXBlcyc7XG5pbXBvcnQgeyBJSWNvbkJ1dHRvbkNvbXBvbmVudENvbmZpZyB9IGZyb20gJy4uLy4uL2ljb24tYnV0dG9uL2ljb24tYnV0dG9uLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24sIGZpbHRlciB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgTmF2aWdhdGlvblNlcnZpY2UgfSBmcm9tICcuLi9uYXZpZ2F0aW9uLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdpcmNjLWNsLWxpYi1uYXYtYWNjb3JkaW9uJyxcbiAgdGVtcGxhdGVVcmw6ICcuL25hdi1pdGVtLWFjY29yZGlvbi5jb21wb25lbnQuaHRtbCdcbn0pXG5leHBvcnQgY2xhc3MgbmF2SXRlbUFjY29yZGlvbkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBJbnB1dCgpIGNvbmZpZzogSU5hdmlnYXRpb25JdGVtQWNjb3JkaW9uID0ge1xuICAgIGlkOiAnJyxcbiAgICBvcGVuOiBmYWxzZSxcbiAgICBsYWJlbDogJycsXG4gICAgc2l6ZTogJ3NtYWxsJyxcbiAgICB0eXBlOiAnYWNjb3JkaW9uJyxcbiAgICBjaGlsZHJlbjogW10sXG4gICAgbGVmdFBhZGRpbmc6IGZhbHNlLFxuICAgIGJvbGQ6IHRydWVcbiAgfTtcbiAgQElucHV0KCkgaWQ6IHN0cmluZyA9ICcnO1xuICBASW5wdXQoKSBvcGVuOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBASW5wdXQoKSBsYWJlbDogc3RyaW5nID0gJyc7XG4gIEBJbnB1dCgpIHNpemU6IGtleW9mIHR5cGVvZiBEU1NpemVzIHwgdW5kZWZpbmVkO1xuICBASW5wdXQoKSBpY29uTGVhZGluZzogc3RyaW5nID0gJyc7XG4gIEBJbnB1dCgpIGxlZnRQYWRkaW5nOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBASW5wdXQoKSBib2xkOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuXG4gIGhlYWRlcklEOiBzdHJpbmcgPSAnJztcblxuICBidXR0b25JY29uT3BlbjogSUljb25CdXR0b25Db21wb25lbnRDb25maWcgPSB7XG4gICAgaWQ6IGAke3RoaXMuY29uZmlnLmlkfS1idXR0b25gLFxuICAgIGNhdGVnb3J5OiAnY3VzdG9tJyxcbiAgICBzaXplOiB0aGlzLmNvbmZpZz8uc2l6ZSxcbiAgICBpY29uOiB7XG4gICAgICBjbGFzczogJ2ZhLWxpZ2h0IGZhLWFycm93LXJpZ2h0JyxcbiAgICAgIGNvbG9yOiAndmFyKC0tdGV4dC1wcmltYXJ5KSdcbiAgICB9XG4gIH07XG5cbiAgYnV0dG9uSWNvbkNsb3NlOiBJSWNvbkJ1dHRvbkNvbXBvbmVudENvbmZpZyA9IHtcbiAgICBpZDogYCR7dGhpcy5jb25maWcuaWR9LWJ1dHRvbmAsXG4gICAgY2F0ZWdvcnk6ICdjdXN0b20nLFxuICAgIHNpemU6IHRoaXMuY29uZmlnPy5zaXplLFxuICAgIGljb246IHtcbiAgICAgIGNsYXNzOiAnZmEtbGlnaHQgZmEtYXJyb3ctcmlnaHQnLFxuICAgICAgY29sb3I6ICd2YXIoLS10ZXh0LXByaW1hcnkpJ1xuICAgIH1cbiAgfTtcblxuICBuYXZPYmplY3RDaGFuZ2VTdWIgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBuYXZFdmVudDogTmF2aWdhdGlvblNlcnZpY2UpIHt9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgLy8gdGhpcy5uYXZPYmplY3RDaGFuZ2VTdWIgPSB0aGlzLm5hdkV2ZW50Lm5hdk9iamVjdENoYW5nZU9icyQucGlwZShcbiAgICAvLyAgIGZpbHRlcihpdGVtID0+IChpdGVtLmlkID09PSB0aGlzLmNvbmZpZy5pZCAmJiBpdGVtLnR5cGUgPT09ICdhY2NvcmRpb24nKSkpLnN1YnNjcmliZShyZXNwb25zZSA9PiB7XG4gICAgLy8gICAgIHRoaXMuY29uZmlnID0gcmVzcG9uc2UgYXMgTmF2aWdhdGlvbkl0ZW1BY2NvcmRpb247XG4gICAgLy8gICB9KTtcblxuICAgIHRoaXMuaWQgIT09ICcnID8gKHRoaXMuY29uZmlnLmlkID0gdGhpcy5pZCkgOiB1bmRlZmluZWQ7XG4gICAgdGhpcy5vcGVuICE9PSB1bmRlZmluZWQgPyAodGhpcy5jb25maWcub3BlbiA9IHRoaXMub3BlbikgOiB1bmRlZmluZWQ7XG4gICAgdGhpcy5ib2xkICE9PSB1bmRlZmluZWQgPyAodGhpcy5jb25maWcuYm9sZCA9IHRoaXMuYm9sZCkgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAodGhpcy5jb25maWc/LmJvbGQgIT0gdHJ1ZSAmJiB0aGlzLmNvbmZpZz8uYm9sZCAhPSBmYWxzZSkge1xuICAgICAgdGhpcy5jb25maWcuYm9sZCA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5sZWZ0UGFkZGluZyAhPT0gdW5kZWZpbmVkXG4gICAgICA/ICh0aGlzLmNvbmZpZy5sZWZ0UGFkZGluZyA9IHRoaXMubGVmdFBhZGRpbmcpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuXG4gICAgdGhpcy5sYWJlbCAhPT0gJycgPyAodGhpcy5jb25maWcubGFiZWwgPSB0aGlzLmxhYmVsKSA6IHVuZGVmaW5lZDtcbiAgICB0aGlzLnNpemUgIT09IHVuZGVmaW5lZCA/ICh0aGlzLmNvbmZpZy5zaXplID0gdGhpcy5zaXplKSA6IHVuZGVmaW5lZDtcbiAgICB0aGlzLmljb25MZWFkaW5nICE9PSAnJ1xuICAgICAgPyAodGhpcy5jb25maWcuaWNvbkxlYWRpbmcgPSB0aGlzLmljb25MZWFkaW5nKVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLmhlYWRlcklEID0gYCR7dGhpcy5jb25maWcuaWR9X2hlYWRlcmA7XG4gICAgdGhpcy5idXR0b25JY29uT3BlbiA9IHtcbiAgICAgIGlkOiBgJHt0aGlzLmNvbmZpZy5pZH1fYnV0dG9uX29wZW5gLFxuICAgICAgY2F0ZWdvcnk6ICdjdXN0b20nLFxuICAgICAgc2l6ZTogdGhpcy5jb25maWc/LnNpemUsXG4gICAgICBpY29uOiB7XG4gICAgICAgIGNsYXNzOiAnZmEtbGlnaHQgZmEtY2hldnJvbi11cCcsXG4gICAgICAgIGNvbG9yOiAndmFyKC0tdGV4dC1wcmltYXJ5KSdcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5idXR0b25JY29uQ2xvc2UgPSB7XG4gICAgICBpZDogYCR7dGhpcy5jb25maWcuaWR9X2J1dHRvbl9jbG9zZWAsXG4gICAgICBjYXRlZ29yeTogJ2N1c3RvbScsXG4gICAgICBzaXplOiB0aGlzLmNvbmZpZz8uc2l6ZSxcbiAgICAgIGljb246IHtcbiAgICAgICAgY2xhc3M6ICdmYS1saWdodCBmYS1jaGV2cm9uLWRvd24nLFxuICAgICAgICBjb2xvcjogJ3ZhcigtLXRleHQtcHJpbWFyeSknXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIG9wZW5BY2NvcmRpb24oZXZlbnQ6IGFueSkge1xuICAgIHRoaXMuY29uZmlnLm9wZW4gPSAhdGhpcy5jb25maWcub3BlbjtcbiAgICB0aGlzLm5hdkV2ZW50Lm5hdkV2ZW50KHsgaWQ6IHRoaXMuY29uZmlnLmlkLCBldmVudDogZXZlbnQgfSk7XG4gIH1cblxuICBlbnRlclByZXNzKGV2ZW50OiBhbnkpIHtcbiAgICB0aGlzLmNvbmZpZy5vcGVuID0gIXRoaXMuY29uZmlnLm9wZW47XG4gIH1cbn1cbiIsIjxkaXZcbiAgW2lkXT1cImNvbmZpZy5pZFwiXG4gIGNsYXNzPVwibGliLW5hdi1pdGVtXCJcbj5cbiAgPGRpdiBjbGFzcz1cImFjY29yZGlvbi1wYW5lbFwiPlxuICAgIDxkaXZcbiAgICAgIGNsYXNzPVwiYWNjb3JkaW9uLW5hdlwiXG4gICAgICAoa2V5ZG93bi5lbnRlcik9XCJlbnRlclByZXNzKCRldmVudClcIlxuICAgID5cbiAgICAgIDxpcmNjLWNsLWxpYi1uYXYtaGVhZGVyXG4gICAgICAgIFtpZF09XCJoZWFkZXJJRFwiXG4gICAgICAgIFthdHRyLnNpemVdPVwiY29uZmlnLnNpemVcIlxuICAgICAgICBbc2l6ZV09XCJjb25maWcuc2l6ZVwiXG4gICAgICAgIFtsYWJlbF09XCJjb25maWc/LmxhYmVsIHx8ICcnXCJcbiAgICAgICAgW2ljb25MZWFkaW5nXT1cImNvbmZpZz8uaWNvbkxlYWRpbmcgfHwgJydcIlxuICAgICAgICBbbGVmdFBhZGRpbmddPVwiY29uZmlnPy5sZWZ0UGFkZGluZ1wiXG4gICAgICAgIFtib2xkXT1cImNvbmZpZz8uYm9sZFwiXG4gICAgICA+XG4gICAgICA8L2lyY2MtY2wtbGliLW5hdi1oZWFkZXI+XG5cbiAgICAgIDxpcmNjLWNsLWxpYi1pY29uLWJ1dHRvblxuICAgICAgICAqbmdJZj1cImNvbmZpZy5vcGVuID09PSB0cnVlXCJcbiAgICAgICAgKGNsaWNrRXZlbnQpPVwib3BlbkFjY29yZGlvbigkZXZlbnQpXCJcbiAgICAgICAgW2NvbmZpZ109XCJidXR0b25JY29uT3BlblwiXG4gICAgICAgIFthdHRyLnNpemVdPVwiY29uZmlnLnNpemVcIlxuICAgICAgICBjbGFzcz1cIm9wZW5cIlxuICAgICAgPjwvaXJjYy1jbC1saWItaWNvbi1idXR0b24+XG4gICAgICA8aXJjYy1jbC1saWItaWNvbi1idXR0b25cbiAgICAgICAgKm5nSWY9XCJjb25maWcub3BlbiA9PT0gZmFsc2VcIlxuICAgICAgICAoY2xpY2tFdmVudCk9XCJvcGVuQWNjb3JkaW9uKCRldmVudClcIlxuICAgICAgICBbYXR0ci5zaXplXT1cImNvbmZpZy5zaXplXCJcbiAgICAgICAgW2NvbmZpZ109XCJidXR0b25JY29uQ2xvc2VcIlxuICAgICAgICBjbGFzcz1cImNsb3NlXCJcbiAgICAgID48L2lyY2MtY2wtbGliLWljb24tYnV0dG9uPlxuICAgIDwvZGl2PlxuICAgIDxkaXZcbiAgICAgIFtjbGFzc109XCJcbiAgICAgICAgY29uZmlnLm9wZW4gPyAnb3BlbiBhY2NvcmRpb24tY29udGVudCcgOiAnY2xvc2UgYWNjb3JkaW9uLWNvbnRlbnQnXG4gICAgICBcIlxuICAgID5cbiAgICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbiJdfQ==