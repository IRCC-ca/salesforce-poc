import { Component } from '@angular/core';
import * as i0 from "@angular/core";
// import { ThemeSwitchService } from './theme-switch.service';
export class ThemeSwitchComponent {
    constructor(renderer) {
        this.renderer = renderer;
        this.isDarkTheme = false;
        this.currentTheme = '';
        this.previousTheme = '';
    }
    ngOnInit() {
        this.darkModeQuery = window.matchMedia('(prefers-color-scheme: dark)');
        this.isDarkTheme = this.darkModeQuery.matches;
        this.isDarkTheme ? this.currentTheme = 'dark' : this.currentTheme = 'light';
        this.currentTheme === 'dark' ? this.previousTheme = 'Light' : this.previousTheme = 'Dark';
        this.darkModeQuery.addEventListener('change', this.handleDarkModeChange.bind(this));
    }
    toggleTheme() {
        this.isDarkTheme = !this.isDarkTheme;
        this.isDarkTheme ? this.currentTheme = 'dark' : this.currentTheme = 'light';
        this.currentTheme === 'dark' ? this.previousTheme = 'Light' : this.previousTheme = 'Dark';
        this.renderer.setAttribute(document.documentElement, 'scheme', this.currentTheme);
        this.darkModeQuery.removeEventListener('change', this.handleDarkModeChange.bind(this));
    }
    handleDarkModeChange(event) {
        this.isDarkTheme = event.matches;
        this.isDarkTheme ? this.currentTheme = 'dark' : this.currentTheme = 'light';
        this.currentTheme === 'dark' ? this.previousTheme = 'Light' : this.previousTheme = 'Dark';
    }
}
ThemeSwitchComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: ThemeSwitchComponent, deps: [{ token: i0.Renderer2 }], target: i0.ɵɵFactoryTarget.Component });
ThemeSwitchComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.2.12", type: ThemeSwitchComponent, selector: "ircc-cl-lib-theme-switch", ngImport: i0, template: "<button\n  (click)=\"toggleTheme()\"\n  category=\"secondary\"\n  color=\"critical\"\n>\n  {{ this.previousTheme }}\n</button>\n", preserveWhitespaces: true });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: ThemeSwitchComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ircc-cl-lib-theme-switch', template: "<button\n  (click)=\"toggleTheme()\"\n  category=\"secondary\"\n  color=\"critical\"\n>\n  {{ this.previousTheme }}\n</button>\n" }]
        }], ctorParameters: function () { return [{ type: i0.Renderer2 }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhlbWUtc3dpdGNoLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2NvbXBvbmVudC1saWIvc3JjL2xpYi9oZWFkZXItZm9vdGVyL3RoZW1lLXN3aXRjaC90aGVtZS1zd2l0Y2guY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vY29tcG9uZW50LWxpYi9zcmMvbGliL2hlYWRlci1mb290ZXIvdGhlbWUtc3dpdGNoL3RoZW1lLXN3aXRjaC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFhLE1BQU0sZUFBZSxDQUFDOztBQUNyRCwrREFBK0Q7QUFPL0QsTUFBTSxPQUFPLG9CQUFvQjtJQU0vQixZQUFvQixRQUFtQjtRQUFuQixhQUFRLEdBQVIsUUFBUSxDQUFXO1FBTHZDLGdCQUFXLEdBQUcsS0FBSyxDQUFDO1FBQ3BCLGlCQUFZLEdBQUcsRUFBRSxDQUFDO1FBQ2xCLGtCQUFhLEdBQUcsRUFBRSxDQUFDO0lBR3dCLENBQUM7SUFFNUMsUUFBUTtRQUNOLElBQUksQ0FBQyxhQUFhLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO1FBQ3ZFLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUM7UUFDOUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLEdBQUcsT0FBTyxDQUFDO1FBQzVFLElBQUksQ0FBQyxZQUFZLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsR0FBRyxNQUFNLENBQUM7UUFDMUYsSUFBSSxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3RGLENBQUM7SUFFRCxXQUFXO1FBQ1QsSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUM7UUFDckMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLEdBQUcsT0FBTyxDQUFDO1FBQzVFLElBQUksQ0FBQyxZQUFZLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsR0FBRyxNQUFNLENBQUM7UUFDMUYsSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLGVBQWUsRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ2xGLElBQUksQ0FBQyxhQUFhLENBQUMsbUJBQW1CLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUN6RixDQUFDO0lBRUQsb0JBQW9CLENBQUMsS0FBMEI7UUFDN0MsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDO1FBQ2pDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxHQUFHLE9BQU8sQ0FBQztRQUM1RSxJQUFJLENBQUMsWUFBWSxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhLEdBQUcsTUFBTSxDQUFDO0lBQzVGLENBQUM7O2tIQTVCVSxvQkFBb0I7c0dBQXBCLG9CQUFvQixnRUNSakMsa0lBT0E7NEZEQ2Esb0JBQW9CO2tCQUpoQyxTQUFTOytCQUNFLDBCQUEwQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgUmVuZGVyZXIyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG4vLyBpbXBvcnQgeyBUaGVtZVN3aXRjaFNlcnZpY2UgfSBmcm9tICcuL3RoZW1lLXN3aXRjaC5zZXJ2aWNlJztcblxuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdpcmNjLWNsLWxpYi10aGVtZS1zd2l0Y2gnLFxuICB0ZW1wbGF0ZVVybDogJy4vdGhlbWUtc3dpdGNoLmNvbXBvbmVudC5odG1sJ1xufSlcbmV4cG9ydCBjbGFzcyBUaGVtZVN3aXRjaENvbXBvbmVudCB7XG4gIGlzRGFya1RoZW1lID0gZmFsc2U7XG4gIGN1cnJlbnRUaGVtZSA9ICcnO1xuICBwcmV2aW91c1RoZW1lID0gJyc7XG4gIGRhcmtNb2RlUXVlcnkgOiBhbnk7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIyKSB7IH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLmRhcmtNb2RlUXVlcnkgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpO1xuICAgIHRoaXMuaXNEYXJrVGhlbWUgPSB0aGlzLmRhcmtNb2RlUXVlcnkubWF0Y2hlcztcbiAgICB0aGlzLmlzRGFya1RoZW1lID8gdGhpcy5jdXJyZW50VGhlbWUgPSAnZGFyaycgOiB0aGlzLmN1cnJlbnRUaGVtZSA9ICdsaWdodCc7XG4gICAgdGhpcy5jdXJyZW50VGhlbWUgPT09ICdkYXJrJyA/IHRoaXMucHJldmlvdXNUaGVtZSA9ICdMaWdodCcgOiB0aGlzLnByZXZpb3VzVGhlbWUgPSAnRGFyayc7XG4gICAgdGhpcy5kYXJrTW9kZVF1ZXJ5LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlRGFya01vZGVDaGFuZ2UuYmluZCh0aGlzKSk7XG4gIH1cblxuICB0b2dnbGVUaGVtZSgpIHtcbiAgICB0aGlzLmlzRGFya1RoZW1lID0gIXRoaXMuaXNEYXJrVGhlbWU7XG4gICAgdGhpcy5pc0RhcmtUaGVtZSA/IHRoaXMuY3VycmVudFRoZW1lID0gJ2RhcmsnIDogdGhpcy5jdXJyZW50VGhlbWUgPSAnbGlnaHQnO1xuICAgIHRoaXMuY3VycmVudFRoZW1lID09PSAnZGFyaycgPyB0aGlzLnByZXZpb3VzVGhlbWUgPSAnTGlnaHQnIDogdGhpcy5wcmV2aW91c1RoZW1lID0gJ0RhcmsnO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0QXR0cmlidXRlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgJ3NjaGVtZScsIHRoaXMuY3VycmVudFRoZW1lKTtcbiAgICB0aGlzLmRhcmtNb2RlUXVlcnkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVEYXJrTW9kZUNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIGhhbmRsZURhcmtNb2RlQ2hhbmdlKGV2ZW50OiBNZWRpYVF1ZXJ5TGlzdEV2ZW50KSB7IFxuICAgIHRoaXMuaXNEYXJrVGhlbWUgPSBldmVudC5tYXRjaGVzO1xuICAgIHRoaXMuaXNEYXJrVGhlbWUgPyB0aGlzLmN1cnJlbnRUaGVtZSA9ICdkYXJrJyA6IHRoaXMuY3VycmVudFRoZW1lID0gJ2xpZ2h0JztcbiAgICB0aGlzLmN1cnJlbnRUaGVtZSA9PT0gJ2RhcmsnID8gdGhpcy5wcmV2aW91c1RoZW1lID0gJ0xpZ2h0JyA6IHRoaXMucHJldmlvdXNUaGVtZSA9ICdEYXJrJztcbiAgfVxufVxuIiwiPGJ1dHRvblxuICAoY2xpY2spPVwidG9nZ2xlVGhlbWUoKVwiXG4gIGNhdGVnb3J5PVwic2Vjb25kYXJ5XCJcbiAgY29sb3I9XCJjcml0aWNhbFwiXG4+XG4gIHt7IHRoaXMucHJldmlvdXNUaGVtZSB9fVxuPC9idXR0b24+XG4iXX0=