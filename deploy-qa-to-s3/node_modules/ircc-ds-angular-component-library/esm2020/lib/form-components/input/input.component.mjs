import { Component, EventEmitter, forwardRef, Input, Output, ViewChild } from '@angular/core';
import { FormGroup, NG_VALUE_ACCESSOR } from '@angular/forms';
import { ERROR_TEXT_STUB } from '../../shared/label/label.component';
import * as i0 from "@angular/core";
import * as i1 from "../../../shared/functions/stand-alone.functions";
import * as i2 from "@ngx-translate/core";
import * as i3 from "@angular/common";
import * as i4 from "../../shared/icon-button/icon-button.component";
import * as i5 from "../../shared/label/label.component";
import * as i6 from "@angular/forms";
import * as i7 from "../error/error.component";
export var InputTypes;
(function (InputTypes) {
    InputTypes["text"] = "text";
    InputTypes["password"] = "password";
    InputTypes["autocomplete"] = "autocomplete";
})(InputTypes || (InputTypes = {}));
export const ARIA_TEXT = {
    en: {
        btnTypePasswordAriaLabel: 'password eye icon',
        btnTypePasswordShowAriaLabel: 'display password text',
        btnTypePasswordHideAriaLabel: 'mark password text',
        btnTypeAutoCompleteClear: 'clear text'
    },
    fr: {
        btnTypePasswordAriaLabel: "icône d'oeil de mot de passe",
        btnTypePasswordShowAriaLabel: 'afficher le texte du mot de passe',
        btnTypePasswordHideAriaLabel: 'mark password text',
        btnTypeAutoCompleteClear: 'Effacer le texte'
    }
};
export class InputComponent {
    constructor(standAloneFunctions, translate, changeDetectorRef, renderer) {
        this.standAloneFunctions = standAloneFunctions;
        this.translate = translate;
        this.changeDetectorRef = changeDetectorRef;
        this.renderer = renderer;
        this.formGroupEmpty = new FormGroup({});
        /**
         * Note: DON'T include default values of '' unless it REALLY makes sense to do so - instead, make them optional.
         * The config input is where you declare the inputs desired properties such as labels, hints, descriptions, etc. where only the id and form group are mandatory properties. Refer to IInputComponentConfig interface.
         */
        this.config = {
            id: '',
            formGroup: new FormGroup({})
        };
        /**
         * The input id is used to identify the component uniquely for subscribing to value changes and errors
         */
        this.id = '';
        /**
         * FormGroup aggregates the values of each child FormControl into one object, with each control name as the key. It calculates its status by reducing the status values of its children. For example, if one of the controls in a group is invalid, the entire group becomes invalid.
         */
        this.formGroup = this.formGroupEmpty;
        /**
         * Type refers to the 2 different input options: basic text or password as the password type has additional configuration
         */
        this.type = InputTypes.password;
        this.focusEvent = new EventEmitter();
        this.disabled = false;
        this.focusState = false;
        this.typeControl = InputTypes.text;
        this.btnAriaLabel = '';
        this.btnAriaLabelHide = '';
        this.btnAriaLabelShow = '';
        this.btnAriaTypeAutoCompleteClear = '';
        this.errorIds = [];
        this.errorAria = '';
        this.labelConfig = {
            formGroup: this.config.formGroup,
            parentID: ''
        };
        this.touched = false;
        this.errorStubText = '';
        this.currentStatus = 'VALID';
        this.buttonAutoCompleteClear = {
            id: `${this.config.id}-button-autocomplete`,
            category: 'custom',
            size: 'extraSmall',
            icon: {
                class: 'fa-solid fa-circle-xmark',
                color: 'var(--neutral-text)'
            }
        };
        this.buttonAutoCompleteClearClicked = false;
        //Removed '!' and added null case in onChange
        this.onTouch = () => {
            if (this.formGroup?.get(this.config.id)?.touched === false) {
                this.formGroup?.get(this.config.id)?.markAsTouched();
            }
        };
        this.onChange = (value) => {
            this.config.formGroup.get(this.config.id)?.setValue(value);
        };
        //set config from individual options, if present
        if (this.formGroup !== this.formGroupEmpty) {
            this.config.formGroup = this.formGroup;
        }
        if (this.id !== '') {
            this.config.id = this.id;
        }
        if (!this.config.type) {
            this.config.type = InputTypes.text;
        }
        else if (this.config.type === InputTypes.password) {
            this.showPassword = false;
            this.typeControl = InputTypes.password;
        }
        if (this.size)
            this.config.size = this.size;
        if (this.label)
            this.config.label = this.label;
        if (this.hint)
            this.config.hint = this.hint;
        if (this.desc)
            this.config.desc = this.desc;
        if (this.required)
            this.config.required = this.required;
        if (this.placeholder)
            this.config.placeholder = this.placeholder;
        if (this.errorMessages)
            this.config.errorMessages = this.errorMessages;
    }
    ngAfterContentChecked() {
        this.changeDetectorRef.detectChanges();
    }
    /**
     * When the page loads, we initialize the form with it's controls, labels, and config, and detect value changes and errors. setLang detects changes to the language toggle to serve the correct text
     */
    ngOnInit() {
        const retControl = this.config.formGroup.get(this.config.id);
        if (retControl) {
            this.formControl = retControl;
        }
        this.setLang(this.translate.currentLang);
        this.translate.onLangChange.subscribe((change) => {
            this.setLang(change.lang);
        });
        this.type === InputTypes.text
            ? (this.showPassword = false)
            : (this.showPassword = true);
        this.labelConfig = this.standAloneFunctions.makeLabelConfig(this.config.formGroup, this.config.id, this.config.errorMessages, this.config.label, this.config.desc, this.config.hint, this.config.required, this.config.labelIconConfig);
        //set disable to true when form is disabled
        this.config.formGroup.valueChanges.subscribe((change) => {
            this.disabled = this.config.formGroup.get(this.config.id)
                ?.disabled;
        });
        if (this.config.errorMessages) {
            this.errorIds = this.standAloneFunctions.getErrorIds(this.config.formGroup, this.config.id, this.config.errorMessages);
        }
        this.currentStatus =
            this.config.formGroup.get(this.config.id)?.status || 'DISABLED';
        switch (this.currentStatus) {
            case 'DISABLED':
                this.setDisabledState(true);
                break;
            default:
                this.setDisabledState(false);
        } //Get the error text when the formControl value changes
        this.config.formGroup
            .get(this.config.id)
            ?.statusChanges.subscribe((change) => {
            this.getAriaErrorText();
            if (change !== this.currentStatus) {
                this.currentStatus = change;
                switch (this.currentStatus) {
                    case 'DISABLED':
                        this.setDisabledState(true);
                        break;
                    default:
                        this.setDisabledState(false);
                }
            }
        });
    }
    /**
     * Get the aria error text for the label
     */
    getAriaErrorText() {
        if (this.config.errorMessages) {
            this.formControl?.markAsDirty();
            this.errorAria = this.standAloneFunctions.getErrorAria(this.config.formGroup, this.config.id, this.config.errorMessages);
        }
    }
    /**
     * Set a boolean representing the touched state to true and trigger getAriaErrorText()
     */
    onTouchedLabel() {
        this.touched = true;
        this.getAriaErrorText();
        setTimeout(() => {
            // Do not emit blur event after clicking clear button
            if (!this.buttonAutoCompleteClearClicked) {
                this.focusEvent.emit(false);
            }
            this.buttonAutoCompleteClearClicked = false;
        }, 100);
    }
    onFocus() {
        if (!this.config.formGroup.get(this.config.id)?.disabled) {
            this.focusEvent.emit(true);
        }
    }
    /**
     * setLang detects changes to the language toggle to serve the correct aria error text
     */
    setLang(lang) {
        this.getAriaErrorText();
        if (lang === 'en' || lang === 'en-US') {
            this.errorStubText = ERROR_TEXT_STUB.en;
            this.btnAriaLabel = ARIA_TEXT.en.btnTypePasswordAriaLabel;
            this.btnAriaLabelHide = ARIA_TEXT.en.btnTypePasswordHideAriaLabel;
            this.btnAriaLabelShow = ARIA_TEXT.en.btnTypePasswordShowAriaLabel;
            this.btnAriaTypeAutoCompleteClear = ARIA_TEXT.en.btnTypeAutoCompleteClear;
        }
        else {
            this.errorStubText = ERROR_TEXT_STUB.fr;
            this.btnAriaLabel = ARIA_TEXT.fr.btnTypePasswordAriaLabel;
            this.btnAriaLabelHide = ARIA_TEXT.fr.btnTypePasswordHideAriaLabel;
            this.btnAriaLabelShow = ARIA_TEXT.fr.btnTypePasswordShowAriaLabel;
            this.btnAriaTypeAutoCompleteClear = ARIA_TEXT.en.btnTypeAutoCompleteClear;
        }
    }
    /**
     * A lifecycle hook that is called when any data-bound property of a directive changes.
     */
    ngOnChanges() {
        this.labelConfig = this.standAloneFunctions.makeLabelConfig(this.config.formGroup, this.config.id, this.config.errorMessages, this.config.label, this.config.desc, this.config.hint, this.config.required, this.config.labelIconConfig);
        if (this.config.errorMessages) {
            this.errorIds = this.standAloneFunctions.getErrorIds(this.config.formGroup, this.config.id, this.config.errorMessages);
        }
        else {
            this.errorIds = [];
        }
        if (this.config.type === InputTypes.autocomplete) {
            this.typeControl = InputTypes.text;
        }
        else if (this.config.type) {
            this.typeControl = this.config.type;
        }
        this.showPassword =
            this.config.type === InputTypes.password &&
                this.typeControl === InputTypes.text;
    }
    /**
     * Apply focus state
     */
    focusInput(focusValue) {
        this.focusState = !focusValue;
    }
    /**
     * Toggle the password field
     */
    hideShow() {
        this.showPassword = !this.showPassword;
        if (this.showPassword) {
            this.typeControl = InputTypes.text;
        }
        else {
            this.typeControl = InputTypes.password;
        }
    }
    clearvalue() {
        this.buttonAutoCompleteClearClicked = true;
        this.config.formGroup.controls[this.config.id].setValue('');
        this.renderer.selectRootElement(this.inputEl?.nativeElement).focus();
        this.focusEvent.emit(true);
    }
    /**
     * Prevents the info button from being triggered and marks the input as touched.
     * @param event
     */
    enterEvent(event) {
        event.preventDefault();
        this.config.formGroup.get(this.config.id)?.markAsTouched();
        this.focusEvent.emit(false);
    }
    escapeEvent(event) {
        event.preventDefault();
        this.config.formGroup.get(this.config.id)?.markAsTouched();
        this.focusEvent.emit(false);
    }
    changeValue(event) {
        this.writeValue(event.srcElement.value);
        this.onTouch();
    }
    writeValue(value) {
        this.onChange(value);
    }
    registerOnChange(fn) {
        this.onChange = fn;
    }
    registerOnTouched(fn) {
        this.onTouch = fn;
    }
    /**
     * Apply a disabled state
     */
    setDisabledState(isDisabled) {
        if (isDisabled) {
            this.formGroup.get(this.config.id)?.disable();
        }
        else {
            this.formGroup.get(this.config.id)?.enable();
        }
    }
    /**
     * Return error state from FormGroup, must be touched & invalid
     */
    get getErrorState() {
        return ((this.config.formGroup.get(this.config.id)?.touched &&
            this.config.formGroup.get(this.config.id)?.invalid) ??
            false);
    }
    get getValueLength() {
        if (this.config.formGroup.get(this.config.id)?.value) {
            return this.config.formGroup.get(this.config.id)?.value.length;
        }
        else {
            return 0;
        }
    }
}
InputComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: InputComponent, deps: [{ token: i1.StandAloneFunctions }, { token: i2.TranslateService }, { token: i0.ChangeDetectorRef }, { token: i0.Renderer2 }], target: i0.ɵɵFactoryTarget.Component });
InputComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.2.12", type: InputComponent, selector: "ircc-cl-lib-input", inputs: { config: "config", id: "id", formGroup: "formGroup", type: "type", size: "size", label: "label", hint: "hint", desc: "desc", required: "required", placeholder: "placeholder", errorMessages: "errorMessages" }, outputs: { focusEvent: "focusEvent" }, providers: [
        {
            provide: NG_VALUE_ACCESSOR,
            useExisting: forwardRef(() => InputComponent),
            multi: true
        }
    ], viewQueries: [{ propertyName: "inputEl", first: true, predicate: ["inputEl"], descendants: true }], usesOnChanges: true, ngImport: i0, template: "<div\n  id=\"{{ config.id + '_container' }}\"\n  class=\"input-wrapper\"\n>\n  <form\n    [formGroup]=\"config.formGroup\"\n    [attr.autocomplete]=\"config.type !== 'autocomplete' ? true : false\"\n  >\n    <div\n      class=\"input-container\"\n      [ngClass]=\"config.size\"\n    >\n      <div class=\"input-text\">\n        <ircc-cl-lib-label\n          [config]=\"labelConfig\"\n          [attr.size]=\"config.size\"\n        ></ircc-cl-lib-label>\n        <div\n          class=\"input-content-area\"\n          [ngClass]=\"focusState === true ? 'focus' : ''\"\n        >\n          <!-- ngModel doesn't mind undefined values, apparently\n          TODO: Should probably change the (keyup) to (onblur) -->\n          <input\n            (blur)=\"onTouchedLabel()\"\n            (focus)=\"onFocus()\"\n            (change)=\"changeValue($event)\"\n            name=\"{{ config.id }}\"\n            class=\"input-field\"\n            placeholder=\"{{ config.placeholder || '' | translate }}\"\n            tabindex=\"0\"\n            [ngClass]=\"\n              config.type === 'password'\n                ? 'input-password-field'\n                : 'input-text-field'\n            \"\n            #inputEl\n            [type]=\"typeControl\"\n            [id]=\"config.id\"\n            [formControlName]=\"config.id\"\n            (keydown.enter)=\"enterEvent($event)\"\n            (keydown.escape)=\"escapeEvent($event)\"\n            [attr.aria-invalid]=\"formControl?.invalid\"\n            [attr.aria-live]=\"'off'\"\n            [attr.aria-label]=\"\n              formControl?.invalid && touched\n                ? (config.label || '' | translate) +\n                  ' ' +\n                  (config.desc || '' | translate) +\n                  ' ' +\n                  (config.hint || '' | translate) +\n                  ' ' +\n                  (errorStubText + ': ' + errorAria)\n                : (config.label || '' | translate) +\n                  ' ' +\n                  (config.desc || '' | translate) +\n                  ' ' +\n                  (config.hint || '' | translate)\n            \"\n          />\n\n          <button\n            *ngIf=\"config.type === 'password'\"\n            role=\"button\"\n            category=\"plain\"\n            tabindex=\"0\"\n            class=\"passwordIcon\"\n            (click)=\"hideShow()\"\n            [disabled]=\"currentStatus === 'DISABLED'\"\n            attr.aria-label=\"{{ btnAriaLabel }}\"\n            aria-live=\"polite\"\n          >\n            <div\n              *ngIf=\"showPassword\"\n              role=\"img\"\n              attr.aria-label=\"{{ btnAriaLabelHide }}\"\n            >\n              <i class=\"fa-solid fa-eye-slash\"></i>\n            </div>\n            <div\n              *ngIf=\"!showPassword\"\n              role=\"img\"\n              attr.aria-label=\"{{ btnAriaLabelShow }}\"\n            >\n              <i class=\"fa-solid fa-eye\"></i>\n            </div>\n          </button>\n\n          <ng-container\n            *ngIf=\"config.type === 'autocomplete' && getValueLength > 0\"\n          >\n            <ircc-cl-lib-icon-button\n              class=\"autocompleteicon\"\n              (clickEvent)=\"clearvalue()\"\n              [config]=\"buttonAutoCompleteClear\"\n              [attr.size]=\"config.size\"\n            ></ircc-cl-lib-icon-button>\n          </ng-container>\n        </div>\n      </div>\n      <div aria-live=\"polite\">\n        <div *ngIf=\"config.formGroup.get(config.id)?.touched && currentStatus === 'INVALID'\">\n          <span class=\"sr-only\">{{\n            errorStubText + ': ' + (config.label || '' | translate) + ': '\n          }}</span>\n          <ng-container *ngFor=\"let errors of errorIds; let i = index\">\n            <div\n              *ngIf=\"formControl?.errors?.[errors.key]\"\n              class=\"radio-errors\"\n            >\n              <ircc-cl-lib-error\n                [id]=\"errors.id\"\n                [errorLOV]=\"errors.errorLOV\"\n                [size]=\"config.size\"\n              ></ircc-cl-lib-error>\n            </div>\n          </ng-container>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n", dependencies: [{ kind: "directive", type: i3.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i3.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i4.IconButtonComponent, selector: "ircc-cl-lib-icon-button", inputs: ["config", "id", "category", "size", "ariaLabel", "disabled", "icon"], outputs: ["clickEvent"] }, { kind: "component", type: i5.LabelComponent, selector: "ircc-cl-lib-label", inputs: ["config", "formGroup", "errorMessages", "parentID", "label", "desc", "hint", "required", "iconButton", "topLabel", "touched", "legend"] }, { kind: "directive", type: i6.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { kind: "directive", type: i6.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i6.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i6.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { kind: "directive", type: i6.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { kind: "directive", type: i6.FormControlName, selector: "[formControlName]", inputs: ["formControlName", "disabled", "ngModel"], outputs: ["ngModelChange"] }, { kind: "component", type: i7.ErrorComponent, selector: "ircc-cl-lib-error", inputs: ["config", "id", "errorLOV", "icon", "size"] }, { kind: "pipe", type: i2.TranslatePipe, name: "translate" }], preserveWhitespaces: true });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: InputComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ircc-cl-lib-input', providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef(() => InputComponent),
                            multi: true
                        }
                    ], template: "<div\n  id=\"{{ config.id + '_container' }}\"\n  class=\"input-wrapper\"\n>\n  <form\n    [formGroup]=\"config.formGroup\"\n    [attr.autocomplete]=\"config.type !== 'autocomplete' ? true : false\"\n  >\n    <div\n      class=\"input-container\"\n      [ngClass]=\"config.size\"\n    >\n      <div class=\"input-text\">\n        <ircc-cl-lib-label\n          [config]=\"labelConfig\"\n          [attr.size]=\"config.size\"\n        ></ircc-cl-lib-label>\n        <div\n          class=\"input-content-area\"\n          [ngClass]=\"focusState === true ? 'focus' : ''\"\n        >\n          <!-- ngModel doesn't mind undefined values, apparently\n          TODO: Should probably change the (keyup) to (onblur) -->\n          <input\n            (blur)=\"onTouchedLabel()\"\n            (focus)=\"onFocus()\"\n            (change)=\"changeValue($event)\"\n            name=\"{{ config.id }}\"\n            class=\"input-field\"\n            placeholder=\"{{ config.placeholder || '' | translate }}\"\n            tabindex=\"0\"\n            [ngClass]=\"\n              config.type === 'password'\n                ? 'input-password-field'\n                : 'input-text-field'\n            \"\n            #inputEl\n            [type]=\"typeControl\"\n            [id]=\"config.id\"\n            [formControlName]=\"config.id\"\n            (keydown.enter)=\"enterEvent($event)\"\n            (keydown.escape)=\"escapeEvent($event)\"\n            [attr.aria-invalid]=\"formControl?.invalid\"\n            [attr.aria-live]=\"'off'\"\n            [attr.aria-label]=\"\n              formControl?.invalid && touched\n                ? (config.label || '' | translate) +\n                  ' ' +\n                  (config.desc || '' | translate) +\n                  ' ' +\n                  (config.hint || '' | translate) +\n                  ' ' +\n                  (errorStubText + ': ' + errorAria)\n                : (config.label || '' | translate) +\n                  ' ' +\n                  (config.desc || '' | translate) +\n                  ' ' +\n                  (config.hint || '' | translate)\n            \"\n          />\n\n          <button\n            *ngIf=\"config.type === 'password'\"\n            role=\"button\"\n            category=\"plain\"\n            tabindex=\"0\"\n            class=\"passwordIcon\"\n            (click)=\"hideShow()\"\n            [disabled]=\"currentStatus === 'DISABLED'\"\n            attr.aria-label=\"{{ btnAriaLabel }}\"\n            aria-live=\"polite\"\n          >\n            <div\n              *ngIf=\"showPassword\"\n              role=\"img\"\n              attr.aria-label=\"{{ btnAriaLabelHide }}\"\n            >\n              <i class=\"fa-solid fa-eye-slash\"></i>\n            </div>\n            <div\n              *ngIf=\"!showPassword\"\n              role=\"img\"\n              attr.aria-label=\"{{ btnAriaLabelShow }}\"\n            >\n              <i class=\"fa-solid fa-eye\"></i>\n            </div>\n          </button>\n\n          <ng-container\n            *ngIf=\"config.type === 'autocomplete' && getValueLength > 0\"\n          >\n            <ircc-cl-lib-icon-button\n              class=\"autocompleteicon\"\n              (clickEvent)=\"clearvalue()\"\n              [config]=\"buttonAutoCompleteClear\"\n              [attr.size]=\"config.size\"\n            ></ircc-cl-lib-icon-button>\n          </ng-container>\n        </div>\n      </div>\n      <div aria-live=\"polite\">\n        <div *ngIf=\"config.formGroup.get(config.id)?.touched && currentStatus === 'INVALID'\">\n          <span class=\"sr-only\">{{\n            errorStubText + ': ' + (config.label || '' | translate) + ': '\n          }}</span>\n          <ng-container *ngFor=\"let errors of errorIds; let i = index\">\n            <div\n              *ngIf=\"formControl?.errors?.[errors.key]\"\n              class=\"radio-errors\"\n            >\n              <ircc-cl-lib-error\n                [id]=\"errors.id\"\n                [errorLOV]=\"errors.errorLOV\"\n                [size]=\"config.size\"\n              ></ircc-cl-lib-error>\n            </div>\n          </ng-container>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n" }]
        }], ctorParameters: function () { return [{ type: i1.StandAloneFunctions }, { type: i2.TranslateService }, { type: i0.ChangeDetectorRef }, { type: i0.Renderer2 }]; }, propDecorators: { config: [{
                type: Input
            }], id: [{
                type: Input
            }], formGroup: [{
                type: Input
            }], type: [{
                type: Input
            }], size: [{
                type: Input
            }], label: [{
                type: Input
            }], hint: [{
                type: Input
            }], desc: [{
                type: Input
            }], required: [{
                type: Input
            }], placeholder: [{
                type: Input
            }], errorMessages: [{
                type: Input
            }], focusEvent: [{
                type: Output
            }], inputEl: [{
                type: ViewChild,
                args: ['inputEl']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5wdXQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vY29tcG9uZW50LWxpYi9zcmMvbGliL2Zvcm0tY29tcG9uZW50cy9pbnB1dC9pbnB1dC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9jb21wb25lbnQtbGliL3NyYy9saWIvZm9ybS1jb21wb25lbnRzL2lucHV0L2lucHV0LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFHTCxTQUFTLEVBRVQsWUFBWSxFQUNaLFVBQVUsRUFDVixLQUFLLEVBR0wsTUFBTSxFQUVOLFNBQVMsRUFDVixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBSUwsU0FBUyxFQUNULGlCQUFpQixFQUNsQixNQUFNLGdCQUFnQixDQUFDO0FBT3hCLE9BQU8sRUFDTCxlQUFlLEVBR2hCLE1BQU0sb0NBQW9DLENBQUM7Ozs7Ozs7OztBQWtCNUMsTUFBTSxDQUFOLElBQVksVUFJWDtBQUpELFdBQVksVUFBVTtJQUNwQiwyQkFBYSxDQUFBO0lBQ2IsbUNBQXFCLENBQUE7SUFDckIsMkNBQTZCLENBQUE7QUFDL0IsQ0FBQyxFQUpXLFVBQVUsS0FBVixVQUFVLFFBSXJCO0FBRUQsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHO0lBQ3ZCLEVBQUUsRUFBRTtRQUNGLHdCQUF3QixFQUFFLG1CQUFtQjtRQUM3Qyw0QkFBNEIsRUFBRSx1QkFBdUI7UUFDckQsNEJBQTRCLEVBQUUsb0JBQW9CO1FBQ2xELHdCQUF3QixFQUFFLFlBQVk7S0FDdkM7SUFDRCxFQUFFLEVBQUU7UUFDRix3QkFBd0IsRUFBRSw4QkFBOEI7UUFDeEQsNEJBQTRCLEVBQUUsbUNBQW1DO1FBQ2pFLDRCQUE0QixFQUFFLG9CQUFvQjtRQUNsRCx3QkFBd0IsRUFBRSxrQkFBa0I7S0FDN0M7Q0FDRixDQUFDO0FBYUYsTUFBTSxPQUFPLGNBQWM7SUFvRXpCLFlBQ1Ms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LE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQztTQUNoRTthQUFNO1lBQ0wsT0FBTyxDQUFDLENBQUM7U0FDVjtJQUNILENBQUM7OzRHQXpXVSxjQUFjO2dHQUFkLGNBQWMsNlNBUmQ7UUFDVDtZQUNFLE9BQU8sRUFBRSxpQkFBaUI7WUFDMUIsV0FBVyxFQUFFLFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxjQUFjLENBQUM7WUFDN0MsS0FBSyxFQUFFLElBQUk7U0FDWjtLQUNGLG1KQy9FSCx3bklBMEhBOzRGRHpDYSxjQUFjO2tCQVgxQixTQUFTOytCQUNFLG1CQUFtQixhQUVsQjt3QkFDVDs0QkFDRSxPQUFPLEVBQUUsaUJBQWlCOzRCQUMxQixXQUFXLEVBQUUsVUFBVSxDQUFDLEdBQUcsRUFBRSxlQUFlLENBQUM7NEJBQzdDLEtBQUssRUFBRSxJQUFJO3lCQUNaO3FCQUNGO2lNQVVRLE1BQU07c0JBQWQsS0FBSztnQkFPRyxFQUFFO3NCQUFWLEtBQUs7Z0JBS0csU0FBUztzQkFBakIsS0FBSztnQkFLRyxJQUFJO3NCQUFaLEtBQUs7Z0JBRUcsSUFBSTtzQkFBWixLQUFLO2dCQUNHLEtBQUs7c0JBQWIsS0FBSztnQkFDRyxJQUFJO3NCQUFaLEtBQUs7Z0JBQ0csSUFBSTtzQkFBWixLQUFLO2dCQUNHLFFBQVE7c0JBQWhCLEtBQUs7Z0JBQ0csV0FBVztzQkFBbkIsS0FBSztnQkFDRyxhQUFhO3NCQUFyQixLQUFLO2dCQUNJLFVBQVU7c0JBQW5CLE1BQU07Z0JBRWUsT0FBTztzQkFBNUIsU0FBUzt1QkFBQyxTQUFTIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWZ0ZXJDb250ZW50Q2hlY2tlZCxcbiAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gIENvbXBvbmVudCxcbiAgRWxlbWVudFJlZixcbiAgRXZlbnRFbWl0dGVyLFxuICBmb3J3YXJkUmVmLFxuICBJbnB1dCxcbiAgT25DaGFuZ2VzLFxuICBPbkluaXQsXG4gIE91dHB1dCxcbiAgUmVuZGVyZXIyLFxuICBWaWV3Q2hpbGRcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICBBYnN0cmFjdENvbnRyb2wsXG4gIENvbnRyb2xWYWx1ZUFjY2Vzc29yLFxuICBGb3JtQ29udHJvbFN0YXR1cyxcbiAgRm9ybUdyb3VwLFxuICBOR19WQUxVRV9BQ0NFU1NPUlxufSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBJRXJyb3JQYWlycyB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC9pbnRlcmZhY2VzL2NvbXBvbmVudC1jb25maWdzJztcbmltcG9ydCB7IERTU2l6ZXMgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvY29uc3RhbnRzL2psLWNvbXBvbmVudHMuY29uc3RhbnRzJztcbmltcG9ydCB7XG4gIElFcnJvcklEcyxcbiAgU3RhbmRBbG9uZUZ1bmN0aW9uc1xufSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvZnVuY3Rpb25zL3N0YW5kLWFsb25lLmZ1bmN0aW9ucyc7XG5pbXBvcnQge1xuICBFUlJPUl9URVhUX1NUVUIsXG4gIElMYWJlbENvbmZpZyxcbiAgSUxhYmVsSWNvbkNvbmZpZ1xufSBmcm9tICcuLi8uLi9zaGFyZWQvbGFiZWwvbGFiZWwuY29tcG9uZW50JztcbmltcG9ydCB7IFRyYW5zbGF0ZVNlcnZpY2UgfSBmcm9tICdAbmd4LXRyYW5zbGF0ZS9jb3JlJztcbmltcG9ydCB7IElJY29uQnV0dG9uQ29tcG9uZW50Q29uZmlnIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2ljb24tYnV0dG9uL2ljb24tYnV0dG9uLmNvbXBvbmVudCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUlucHV0Q29tcG9uZW50Q29uZmlnIHtcbiAgbGFiZWw/OiBzdHJpbmc7XG4gIGhpbnQ/OiBzdHJpbmc7XG4gIGRlc2M/OiBzdHJpbmc7XG4gIHJlcXVpcmVkPzogYm9vbGVhbjsgLy8gVGhpcyBmaWVsZCBvbmx5IGFkZHMgc3R5bGluZyB0byB0aGUgbGFiZWwgYW5kIERPRVMgTk9UIGFkZCBhbnkgdmFsaWRhdGlvbiB0byB0aGUgaW5wdXQgZmllbGQuXG4gIHBsYWNlaG9sZGVyPzogc3RyaW5nO1xuICB0eXBlPzoga2V5b2YgdHlwZW9mIElucHV0VHlwZXM7XG4gIGlkOiBzdHJpbmc7XG4gIHNpemU/OiBrZXlvZiB0eXBlb2YgRFNTaXplcztcbiAgZm9ybUdyb3VwOiBGb3JtR3JvdXA7XG4gIGVycm9yTWVzc2FnZXM/OiBJRXJyb3JQYWlyc1tdO1xuICBsYWJlbEljb25Db25maWc/OiBJTGFiZWxJY29uQ29uZmlnO1xufVxuXG5leHBvcnQgZW51bSBJbnB1dFR5cGVzIHtcbiAgdGV4dCA9ICd0ZXh0JyxcbiAgcGFzc3dvcmQgPSAncGFzc3dvcmQnLFxuICBhdXRvY29tcGxldGUgPSAnYXV0b2NvbXBsZXRlJ1xufVxuXG5leHBvcnQgY29uc3QgQVJJQV9URVhUID0ge1xuICBlbjoge1xuICAgIGJ0blR5cGVQYXNzd29yZEFyaWFMYWJlbDogJ3Bhc3N3b3JkIGV5ZSBpY29uJyxcbiAgICBidG5UeXBlUGFzc3dvcmRTaG93QXJpYUxhYmVsOiAnZGlzcGxheSBwYXNzd29yZCB0ZXh0JyxcbiAgICBidG5UeXBlUGFzc3dvcmRIaWRlQXJpYUxhYmVsOiAnbWFyayBwYXNzd29yZCB0ZXh0JyxcbiAgICBidG5UeXBlQXV0b0NvbXBsZXRlQ2xlYXI6ICdjbGVhciB0ZXh0J1xuICB9LFxuICBmcjoge1xuICAgIGJ0blR5cGVQYXNzd29yZEFyaWFMYWJlbDogXCJpY8O0bmUgZCdvZWlsIGRlIG1vdCBkZSBwYXNzZVwiLFxuICAgIGJ0blR5cGVQYXNzd29yZFNob3dBcmlhTGFiZWw6ICdhZmZpY2hlciBsZSB0ZXh0ZSBkdSBtb3QgZGUgcGFzc2UnLFxuICAgIGJ0blR5cGVQYXNzd29yZEhpZGVBcmlhTGFiZWw6ICdtYXJrIHBhc3N3b3JkIHRleHQnLFxuICAgIGJ0blR5cGVBdXRvQ29tcGxldGVDbGVhcjogJ0VmZmFjZXIgbGUgdGV4dGUnXG4gIH1cbn07XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2lyY2MtY2wtbGliLWlucHV0JyxcbiAgdGVtcGxhdGVVcmw6ICcuL2lucHV0LmNvbXBvbmVudC5odG1sJyxcbiAgcHJvdmlkZXJzOiBbXG4gICAge1xuICAgICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBJbnB1dENvbXBvbmVudCksXG4gICAgICBtdWx0aTogdHJ1ZVxuICAgIH1cbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBJbnB1dENvbXBvbmVudFxuICBpbXBsZW1lbnRzIENvbnRyb2xWYWx1ZUFjY2Vzc29yLCBPbkluaXQsIE9uQ2hhbmdlcywgQWZ0ZXJDb250ZW50Q2hlY2tlZFxue1xuICBmb3JtR3JvdXBFbXB0eTogRm9ybUdyb3VwID0gbmV3IEZvcm1Hcm91cCh7fSk7XG4gIC8qKlxuICAgKiBOb3RlOiBET04nVCBpbmNsdWRlIGRlZmF1bHQgdmFsdWVzIG9mICcnIHVubGVzcyBpdCBSRUFMTFkgbWFrZXMgc2Vuc2UgdG8gZG8gc28gLSBpbnN0ZWFkLCBtYWtlIHRoZW0gb3B0aW9uYWwuXG4gICAqIFRoZSBjb25maWcgaW5wdXQgaXMgd2hlcmUgeW91IGRlY2xhcmUgdGhlIGlucHV0cyBkZXNpcmVkIHByb3BlcnRpZXMgc3VjaCBhcyBsYWJlbHMsIGhpbnRzLCBkZXNjcmlwdGlvbnMsIGV0Yy4gd2hlcmUgb25seSB0aGUgaWQgYW5kIGZvcm0gZ3JvdXAgYXJlIG1hbmRhdG9yeSBwcm9wZXJ0aWVzLiBSZWZlciB0byBJSW5wdXRDb21wb25lbnRDb25maWcgaW50ZXJmYWNlLlxuICAgKi9cbiAgQElucHV0KCkgY29uZmlnOiBJSW5wdXRDb21wb25lbnRDb25maWcgPSB7XG4gICAgaWQ6ICcnLFxuICAgIGZvcm1Hcm91cDogbmV3IEZvcm1Hcm91cCh7fSlcbiAgfTtcbiAgLyoqXG4gICAqIFRoZSBpbnB1dCBpZCBpcyB1c2VkIHRvIGlkZW50aWZ5IHRoZSBjb21wb25lbnQgdW5pcXVlbHkgZm9yIHN1YnNjcmliaW5nIHRvIHZhbHVlIGNoYW5nZXMgYW5kIGVycm9yc1xuICAgKi9cbiAgQElucHV0KCkgaWQgPSAnJztcblxuICAvKipcbiAgICogRm9ybUdyb3VwIGFnZ3JlZ2F0ZXMgdGhlIHZhbHVlcyBvZiBlYWNoIGNoaWxkIEZvcm1Db250cm9sIGludG8gb25lIG9iamVjdCwgd2l0aCBlYWNoIGNvbnRyb2wgbmFtZSBhcyB0aGUga2V5LiBJdCBjYWxjdWxhdGVzIGl0cyBzdGF0dXMgYnkgcmVkdWNpbmcgdGhlIHN0YXR1cyB2YWx1ZXMgb2YgaXRzIGNoaWxkcmVuLiBGb3IgZXhhbXBsZSwgaWYgb25lIG9mIHRoZSBjb250cm9scyBpbiBhIGdyb3VwIGlzIGludmFsaWQsIHRoZSBlbnRpcmUgZ3JvdXAgYmVjb21lcyBpbnZhbGlkLlxuICAgKi9cbiAgQElucHV0KCkgZm9ybUdyb3VwID0gdGhpcy5mb3JtR3JvdXBFbXB0eTtcblxuICAvKipcbiAgICogVHlwZSByZWZlcnMgdG8gdGhlIDIgZGlmZmVyZW50IGlucHV0IG9wdGlvbnM6IGJhc2ljIHRleHQgb3IgcGFzc3dvcmQgYXMgdGhlIHBhc3N3b3JkIHR5cGUgaGFzIGFkZGl0aW9uYWwgY29uZmlndXJhdGlvblxuICAgKi9cbiAgQElucHV0KCkgdHlwZToga2V5b2YgdHlwZW9mIElucHV0VHlwZXMgPSBJbnB1dFR5cGVzLnBhc3N3b3JkO1xuXG4gIEBJbnB1dCgpIHNpemU/OiBrZXlvZiB0eXBlb2YgRFNTaXplcztcbiAgQElucHV0KCkgbGFiZWw/OiBzdHJpbmc7XG4gIEBJbnB1dCgpIGhpbnQ/OiBzdHJpbmc7XG4gIEBJbnB1dCgpIGRlc2M/OiBzdHJpbmc7XG4gIEBJbnB1dCgpIHJlcXVpcmVkPzogYm9vbGVhbjsgLy8gVGhpcyBmaWVsZCBvbmx5IGFkZHMgc3R5bGluZyB0byB0aGUgbGFiZWwgYW5kIERPRVMgTk9UIGFkZCBhbnkgdmFsaWRhdGlvbiB0byB0aGUgaW5wdXQgZmllbGQuXG4gIEBJbnB1dCgpIHBsYWNlaG9sZGVyPzogc3RyaW5nO1xuICBASW5wdXQoKSBlcnJvck1lc3NhZ2VzPzogSUVycm9yUGFpcnNbXTtcbiAgQE91dHB1dCgpIGZvY3VzRXZlbnQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgQFZpZXdDaGlsZCgnaW5wdXRFbCcpIGlucHV0RWw/OiBFbGVtZW50UmVmO1xuXG4gIGRpc2FibGVkID0gZmFsc2U7XG4gIGZvY3VzU3RhdGUgPSBmYWxzZTtcbiAgc2hvd1Bhc3N3b3JkPzogYm9vbGVhbjtcbiAgdHlwZUNvbnRyb2w6IGtleW9mIHR5cGVvZiBJbnB1dFR5cGVzID0gSW5wdXRUeXBlcy50ZXh0O1xuICBidG5BcmlhTGFiZWwgPSAnJztcbiAgYnRuQXJpYUxhYmVsSGlkZSA9ICcnO1xuICBidG5BcmlhTGFiZWxTaG93ID0gJyc7XG4gIGJ0bkFyaWFUeXBlQXV0b0NvbXBsZXRlQ2xlYXIgPSAnJztcbiAgZXJyb3JJZHM6IElFcnJvcklEc1tdID0gW107XG4gIGVycm9yQXJpYSA9ICcnO1xuICBmb3JtQ29udHJvbD86IEFic3RyYWN0Q29udHJvbDtcbiAgbGFiZWxDb25maWc6IElMYWJlbENvbmZpZyA9IHtcbiAgICBmb3JtR3JvdXA6IHRoaXMuY29uZmlnLmZvcm1Hcm91cCxcbiAgICBwYXJlbnRJRDogJydcbiAgfTtcbiAgdG91Y2hlZCA9IGZhbHNlO1xuICBlcnJvclN0dWJUZXh0ID0gJyc7XG4gIGN1cnJlbnRTdGF0dXM6IEZvcm1Db250cm9sU3RhdHVzID0gJ1ZBTElEJztcblxuICBidXR0b25BdXRvQ29tcGxldGVDbGVhcjogSUljb25CdXR0b25Db21wb25lbnRDb25maWcgPSB7XG4gICAgaWQ6IGAke3RoaXMuY29uZmlnLmlkfS1idXR0b24tYXV0b2NvbXBsZXRlYCxcbiAgICBjYXRlZ29yeTogJ2N1c3RvbScsXG4gICAgc2l6ZTogJ2V4dHJhU21hbGwnLFxuICAgIGljb246IHtcbiAgICAgIGNsYXNzOiAnZmEtc29saWQgZmEtY2lyY2xlLXhtYXJrJyxcbiAgICAgIGNvbG9yOiAndmFyKC0tbmV1dHJhbC10ZXh0KSdcbiAgICB9XG4gIH07XG4gIGJ1dHRvbkF1dG9Db21wbGV0ZUNsZWFyQ2xpY2tlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBzdGFuZEFsb25lRnVuY3Rpb25zOiBTdGFuZEFsb25lRnVuY3Rpb25zLFxuICAgIHByaXZhdGUgdHJhbnNsYXRlOiBUcmFuc2xhdGVTZXJ2aWNlLFxuICAgIHByaXZhdGUgY2hhbmdlRGV0ZWN0b3JSZWY6IENoYW5nZURldGVjdG9yUmVmLFxuICAgIHByaXZhdGUgcmVuZGVyZXI6IFJlbmRlcmVyMlxuICApIHtcbiAgICAvL3NldCBjb25maWcgZnJvbSBpbmRpdmlkdWFsIG9wdGlvbnMsIGlmIHByZXNlbnRcbiAgICBpZiAodGhpcy5mb3JtR3JvdXAgIT09IHRoaXMuZm9ybUdyb3VwRW1wdHkpIHtcbiAgICAgIHRoaXMuY29uZmlnLmZvcm1Hcm91cCA9IHRoaXMuZm9ybUdyb3VwO1xuICAgIH1cbiAgICBpZiAodGhpcy5pZCAhPT0gJycpIHtcbiAgICAgIHRoaXMuY29uZmlnLmlkID0gdGhpcy5pZDtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuY29uZmlnLnR5cGUpIHtcbiAgICAgIHRoaXMuY29uZmlnLnR5cGUgPSBJbnB1dFR5cGVzLnRleHQ7XG4gICAgfSBlbHNlIGlmICh0aGlzLmNvbmZpZy50eXBlID09PSBJbnB1dFR5cGVzLnBhc3N3b3JkKSB7XG4gICAgICB0aGlzLnNob3dQYXNzd29yZCA9IGZhbHNlO1xuICAgICAgdGhpcy50eXBlQ29udHJvbCA9IElucHV0VHlwZXMucGFzc3dvcmQ7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc2l6ZSkgdGhpcy5jb25maWcuc2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICBpZiAodGhpcy5sYWJlbCkgdGhpcy5jb25maWcubGFiZWwgPSB0aGlzLmxhYmVsO1xuICAgIGlmICh0aGlzLmhpbnQpIHRoaXMuY29uZmlnLmhpbnQgPSB0aGlzLmhpbnQ7XG4gICAgaWYgKHRoaXMuZGVzYykgdGhpcy5jb25maWcuZGVzYyA9IHRoaXMuZGVzYztcbiAgICBpZiAodGhpcy5yZXF1aXJlZCkgdGhpcy5jb25maWcucmVxdWlyZWQgPSB0aGlzLnJlcXVpcmVkO1xuICAgIGlmICh0aGlzLnBsYWNlaG9sZGVyKSB0aGlzLmNvbmZpZy5wbGFjZWhvbGRlciA9IHRoaXMucGxhY2Vob2xkZXI7XG4gICAgaWYgKHRoaXMuZXJyb3JNZXNzYWdlcykgdGhpcy5jb25maWcuZXJyb3JNZXNzYWdlcyA9IHRoaXMuZXJyb3JNZXNzYWdlcztcbiAgfVxuXG4gIC8vUmVtb3ZlZCAnIScgYW5kIGFkZGVkIG51bGwgY2FzZSBpbiBvbkNoYW5nZVxuICBvblRvdWNoID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLmZvcm1Hcm91cD8uZ2V0KHRoaXMuY29uZmlnLmlkKT8udG91Y2hlZCA9PT0gZmFsc2UpIHtcbiAgICAgIHRoaXMuZm9ybUdyb3VwPy5nZXQodGhpcy5jb25maWcuaWQpPy5tYXJrQXNUb3VjaGVkKCk7XG4gICAgfVxuICB9O1xuXG4gIG9uQ2hhbmdlID0gKHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICB0aGlzLmNvbmZpZy5mb3JtR3JvdXAuZ2V0KHRoaXMuY29uZmlnLmlkKT8uc2V0VmFsdWUodmFsdWUpO1xuICB9O1xuXG4gIG5nQWZ0ZXJDb250ZW50Q2hlY2tlZCgpIHtcbiAgICB0aGlzLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSBwYWdlIGxvYWRzLCB3ZSBpbml0aWFsaXplIHRoZSBmb3JtIHdpdGggaXQncyBjb250cm9scywgbGFiZWxzLCBhbmQgY29uZmlnLCBhbmQgZGV0ZWN0IHZhbHVlIGNoYW5nZXMgYW5kIGVycm9ycy4gc2V0TGFuZyBkZXRlY3RzIGNoYW5nZXMgdG8gdGhlIGxhbmd1YWdlIHRvZ2dsZSB0byBzZXJ2ZSB0aGUgY29ycmVjdCB0ZXh0XG4gICAqL1xuICBuZ09uSW5pdCgpIHtcbiAgICBjb25zdCByZXRDb250cm9sID0gdGhpcy5jb25maWcuZm9ybUdyb3VwLmdldCh0aGlzLmNvbmZpZy5pZCk7XG4gICAgaWYgKHJldENvbnRyb2wpIHtcbiAgICAgIHRoaXMuZm9ybUNvbnRyb2wgPSByZXRDb250cm9sO1xuICAgIH1cblxuICAgIHRoaXMuc2V0TGFuZyh0aGlzLnRyYW5zbGF0ZS5jdXJyZW50TGFuZyk7XG4gICAgdGhpcy50cmFuc2xhdGUub25MYW5nQ2hhbmdlLnN1YnNjcmliZSgoY2hhbmdlKSA9PiB7XG4gICAgICB0aGlzLnNldExhbmcoY2hhbmdlLmxhbmcpO1xuICAgIH0pO1xuXG4gICAgdGhpcy50eXBlID09PSBJbnB1dFR5cGVzLnRleHRcbiAgICAgID8gKHRoaXMuc2hvd1Bhc3N3b3JkID0gZmFsc2UpXG4gICAgICA6ICh0aGlzLnNob3dQYXNzd29yZCA9IHRydWUpO1xuXG4gICAgdGhpcy5sYWJlbENvbmZpZyA9IHRoaXMuc3RhbmRBbG9uZUZ1bmN0aW9ucy5tYWtlTGFiZWxDb25maWcoXG4gICAgICB0aGlzLmNvbmZpZy5mb3JtR3JvdXAsXG4gICAgICB0aGlzLmNvbmZpZy5pZCxcbiAgICAgIHRoaXMuY29uZmlnLmVycm9yTWVzc2FnZXMsXG4gICAgICB0aGlzLmNvbmZpZy5sYWJlbCxcbiAgICAgIHRoaXMuY29uZmlnLmRlc2MsXG4gICAgICB0aGlzLmNvbmZpZy5oaW50LFxuICAgICAgdGhpcy5jb25maWcucmVxdWlyZWQsXG4gICAgICB0aGlzLmNvbmZpZy5sYWJlbEljb25Db25maWdcbiAgICApO1xuXG4gICAgLy9zZXQgZGlzYWJsZSB0byB0cnVlIHdoZW4gZm9ybSBpcyBkaXNhYmxlZFxuICAgIHRoaXMuY29uZmlnLmZvcm1Hcm91cC52YWx1ZUNoYW5nZXMuc3Vic2NyaWJlKChjaGFuZ2UpID0+IHtcbiAgICAgIHRoaXMuZGlzYWJsZWQgPSB0aGlzLmNvbmZpZy5mb3JtR3JvdXAuZ2V0KHRoaXMuY29uZmlnLmlkKVxuICAgICAgICA/LmRpc2FibGVkIGFzIGJvb2xlYW47XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5jb25maWcuZXJyb3JNZXNzYWdlcykge1xuICAgICAgdGhpcy5lcnJvcklkcyA9IHRoaXMuc3RhbmRBbG9uZUZ1bmN0aW9ucy5nZXRFcnJvcklkcyhcbiAgICAgICAgdGhpcy5jb25maWcuZm9ybUdyb3VwLFxuICAgICAgICB0aGlzLmNvbmZpZy5pZCxcbiAgICAgICAgdGhpcy5jb25maWcuZXJyb3JNZXNzYWdlc1xuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLmN1cnJlbnRTdGF0dXMgPVxuICAgICAgdGhpcy5jb25maWcuZm9ybUdyb3VwLmdldCh0aGlzLmNvbmZpZy5pZCk/LnN0YXR1cyB8fCAnRElTQUJMRUQnO1xuICAgIHN3aXRjaCAodGhpcy5jdXJyZW50U3RhdHVzKSB7XG4gICAgICBjYXNlICdESVNBQkxFRCc6XG4gICAgICAgIHRoaXMuc2V0RGlzYWJsZWRTdGF0ZSh0cnVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLnNldERpc2FibGVkU3RhdGUoZmFsc2UpO1xuICAgIH0gLy9HZXQgdGhlIGVycm9yIHRleHQgd2hlbiB0aGUgZm9ybUNvbnRyb2wgdmFsdWUgY2hhbmdlc1xuICAgIHRoaXMuY29uZmlnLmZvcm1Hcm91cFxuICAgICAgLmdldCh0aGlzLmNvbmZpZy5pZClcbiAgICAgID8uc3RhdHVzQ2hhbmdlcy5zdWJzY3JpYmUoKGNoYW5nZSkgPT4ge1xuICAgICAgICB0aGlzLmdldEFyaWFFcnJvclRleHQoKTtcbiAgICAgICAgaWYgKGNoYW5nZSAhPT0gdGhpcy5jdXJyZW50U3RhdHVzKSB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50U3RhdHVzID0gY2hhbmdlO1xuICAgICAgICAgIHN3aXRjaCAodGhpcy5jdXJyZW50U3RhdHVzKSB7XG4gICAgICAgICAgICBjYXNlICdESVNBQkxFRCc6XG4gICAgICAgICAgICAgIHRoaXMuc2V0RGlzYWJsZWRTdGF0ZSh0cnVlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICB0aGlzLnNldERpc2FibGVkU3RhdGUoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBhcmlhIGVycm9yIHRleHQgZm9yIHRoZSBsYWJlbFxuICAgKi9cbiAgZ2V0QXJpYUVycm9yVGV4dCgpIHtcbiAgICBpZiAodGhpcy5jb25maWcuZXJyb3JNZXNzYWdlcykge1xuICAgICAgdGhpcy5mb3JtQ29udHJvbD8ubWFya0FzRGlydHkoKTtcbiAgICAgIHRoaXMuZXJyb3JBcmlhID0gdGhpcy5zdGFuZEFsb25lRnVuY3Rpb25zLmdldEVycm9yQXJpYShcbiAgICAgICAgdGhpcy5jb25maWcuZm9ybUdyb3VwLFxuICAgICAgICB0aGlzLmNvbmZpZy5pZCxcbiAgICAgICAgdGhpcy5jb25maWcuZXJyb3JNZXNzYWdlc1xuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IGEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHRvdWNoZWQgc3RhdGUgdG8gdHJ1ZSBhbmQgdHJpZ2dlciBnZXRBcmlhRXJyb3JUZXh0KClcbiAgICovXG4gIG9uVG91Y2hlZExhYmVsKCkge1xuICAgIHRoaXMudG91Y2hlZCA9IHRydWU7XG4gICAgdGhpcy5nZXRBcmlhRXJyb3JUZXh0KCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAvLyBEbyBub3QgZW1pdCBibHVyIGV2ZW50IGFmdGVyIGNsaWNraW5nIGNsZWFyIGJ1dHRvblxuICAgICAgaWYgKCF0aGlzLmJ1dHRvbkF1dG9Db21wbGV0ZUNsZWFyQ2xpY2tlZCkge1xuICAgICAgICB0aGlzLmZvY3VzRXZlbnQuZW1pdChmYWxzZSk7XG4gICAgICB9XG4gICAgICB0aGlzLmJ1dHRvbkF1dG9Db21wbGV0ZUNsZWFyQ2xpY2tlZCA9IGZhbHNlO1xuICAgIH0sIDEwMCk7XG4gIH1cblxuICBvbkZvY3VzKCkge1xuICAgIGlmICghdGhpcy5jb25maWcuZm9ybUdyb3VwLmdldCh0aGlzLmNvbmZpZy5pZCk/LmRpc2FibGVkKSB7XG4gICAgICB0aGlzLmZvY3VzRXZlbnQuZW1pdCh0cnVlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogc2V0TGFuZyBkZXRlY3RzIGNoYW5nZXMgdG8gdGhlIGxhbmd1YWdlIHRvZ2dsZSB0byBzZXJ2ZSB0aGUgY29ycmVjdCBhcmlhIGVycm9yIHRleHRcbiAgICovXG4gIHNldExhbmcobGFuZzogc3RyaW5nKSB7XG4gICAgdGhpcy5nZXRBcmlhRXJyb3JUZXh0KCk7XG4gICAgaWYgKGxhbmcgPT09ICdlbicgfHwgbGFuZyA9PT0gJ2VuLVVTJykge1xuICAgICAgdGhpcy5lcnJvclN0dWJUZXh0ID0gRVJST1JfVEVYVF9TVFVCLmVuO1xuICAgICAgdGhpcy5idG5BcmlhTGFiZWwgPSBBUklBX1RFWFQuZW4uYnRuVHlwZVBhc3N3b3JkQXJpYUxhYmVsO1xuICAgICAgdGhpcy5idG5BcmlhTGFiZWxIaWRlID0gQVJJQV9URVhULmVuLmJ0blR5cGVQYXNzd29yZEhpZGVBcmlhTGFiZWw7XG4gICAgICB0aGlzLmJ0bkFyaWFMYWJlbFNob3cgPSBBUklBX1RFWFQuZW4uYnRuVHlwZVBhc3N3b3JkU2hvd0FyaWFMYWJlbDtcbiAgICAgIHRoaXMuYnRuQXJpYVR5cGVBdXRvQ29tcGxldGVDbGVhciA9IEFSSUFfVEVYVC5lbi5idG5UeXBlQXV0b0NvbXBsZXRlQ2xlYXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZXJyb3JTdHViVGV4dCA9IEVSUk9SX1RFWFRfU1RVQi5mcjtcbiAgICAgIHRoaXMuYnRuQXJpYUxhYmVsID0gQVJJQV9URVhULmZyLmJ0blR5cGVQYXNzd29yZEFyaWFMYWJlbDtcbiAgICAgIHRoaXMuYnRuQXJpYUxhYmVsSGlkZSA9IEFSSUFfVEVYVC5mci5idG5UeXBlUGFzc3dvcmRIaWRlQXJpYUxhYmVsO1xuICAgICAgdGhpcy5idG5BcmlhTGFiZWxTaG93ID0gQVJJQV9URVhULmZyLmJ0blR5cGVQYXNzd29yZFNob3dBcmlhTGFiZWw7XG4gICAgICB0aGlzLmJ0bkFyaWFUeXBlQXV0b0NvbXBsZXRlQ2xlYXIgPSBBUklBX1RFWFQuZW4uYnRuVHlwZUF1dG9Db21wbGV0ZUNsZWFyO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBIGxpZmVjeWNsZSBob29rIHRoYXQgaXMgY2FsbGVkIHdoZW4gYW55IGRhdGEtYm91bmQgcHJvcGVydHkgb2YgYSBkaXJlY3RpdmUgY2hhbmdlcy5cbiAgICovXG4gIG5nT25DaGFuZ2VzKCkge1xuICAgIHRoaXMubGFiZWxDb25maWcgPSB0aGlzLnN0YW5kQWxvbmVGdW5jdGlvbnMubWFrZUxhYmVsQ29uZmlnKFxuICAgICAgdGhpcy5jb25maWcuZm9ybUdyb3VwLFxuICAgICAgdGhpcy5jb25maWcuaWQsXG4gICAgICB0aGlzLmNvbmZpZy5lcnJvck1lc3NhZ2VzLFxuICAgICAgdGhpcy5jb25maWcubGFiZWwsXG4gICAgICB0aGlzLmNvbmZpZy5kZXNjLFxuICAgICAgdGhpcy5jb25maWcuaGludCxcbiAgICAgIHRoaXMuY29uZmlnLnJlcXVpcmVkLFxuICAgICAgdGhpcy5jb25maWcubGFiZWxJY29uQ29uZmlnXG4gICAgKTtcblxuICAgIGlmICh0aGlzLmNvbmZpZy5lcnJvck1lc3NhZ2VzKSB7XG4gICAgICB0aGlzLmVycm9ySWRzID0gdGhpcy5zdGFuZEFsb25lRnVuY3Rpb25zLmdldEVycm9ySWRzKFxuICAgICAgICB0aGlzLmNvbmZpZy5mb3JtR3JvdXAsXG4gICAgICAgIHRoaXMuY29uZmlnLmlkLFxuICAgICAgICB0aGlzLmNvbmZpZy5lcnJvck1lc3NhZ2VzXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVycm9ySWRzID0gW107XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29uZmlnLnR5cGUgPT09IElucHV0VHlwZXMuYXV0b2NvbXBsZXRlKSB7XG4gICAgICB0aGlzLnR5cGVDb250cm9sID0gSW5wdXRUeXBlcy50ZXh0O1xuICAgIH0gZWxzZSBpZiAodGhpcy5jb25maWcudHlwZSkge1xuICAgICAgdGhpcy50eXBlQ29udHJvbCA9IHRoaXMuY29uZmlnLnR5cGU7XG4gICAgfVxuXG4gICAgdGhpcy5zaG93UGFzc3dvcmQgPVxuICAgICAgdGhpcy5jb25maWcudHlwZSA9PT0gSW5wdXRUeXBlcy5wYXNzd29yZCAmJlxuICAgICAgdGhpcy50eXBlQ29udHJvbCA9PT0gSW5wdXRUeXBlcy50ZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IGZvY3VzIHN0YXRlXG4gICAqL1xuICBwdWJsaWMgZm9jdXNJbnB1dChmb2N1c1ZhbHVlOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5mb2N1c1N0YXRlID0gIWZvY3VzVmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlIHRoZSBwYXNzd29yZCBmaWVsZFxuICAgKi9cbiAgaGlkZVNob3coKSB7XG4gICAgdGhpcy5zaG93UGFzc3dvcmQgPSAhdGhpcy5zaG93UGFzc3dvcmQ7XG5cbiAgICBpZiAodGhpcy5zaG93UGFzc3dvcmQpIHtcbiAgICAgIHRoaXMudHlwZUNvbnRyb2wgPSBJbnB1dFR5cGVzLnRleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudHlwZUNvbnRyb2wgPSBJbnB1dFR5cGVzLnBhc3N3b3JkO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBjbGVhcnZhbHVlKCkge1xuICAgIHRoaXMuYnV0dG9uQXV0b0NvbXBsZXRlQ2xlYXJDbGlja2VkID0gdHJ1ZTtcbiAgICB0aGlzLmNvbmZpZy5mb3JtR3JvdXAuY29udHJvbHNbdGhpcy5jb25maWcuaWRdLnNldFZhbHVlKCcnKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNlbGVjdFJvb3RFbGVtZW50KHRoaXMuaW5wdXRFbD8ubmF0aXZlRWxlbWVudCkuZm9jdXMoKTtcbiAgICB0aGlzLmZvY3VzRXZlbnQuZW1pdCh0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcmV2ZW50cyB0aGUgaW5mbyBidXR0b24gZnJvbSBiZWluZyB0cmlnZ2VyZWQgYW5kIG1hcmtzIHRoZSBpbnB1dCBhcyB0b3VjaGVkLlxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICovXG4gIGVudGVyRXZlbnQoZXZlbnQ6IEV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmNvbmZpZy5mb3JtR3JvdXAuZ2V0KHRoaXMuY29uZmlnLmlkKT8ubWFya0FzVG91Y2hlZCgpO1xuICAgIHRoaXMuZm9jdXNFdmVudC5lbWl0KGZhbHNlKTtcbiAgfVxuXG4gIGVzY2FwZUV2ZW50KGV2ZW50OiBFdmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5jb25maWcuZm9ybUdyb3VwLmdldCh0aGlzLmNvbmZpZy5pZCk/Lm1hcmtBc1RvdWNoZWQoKTtcbiAgICB0aGlzLmZvY3VzRXZlbnQuZW1pdChmYWxzZSk7XG4gIH1cblxuICBjaGFuZ2VWYWx1ZShldmVudDogYW55KSB7XG4gICAgdGhpcy53cml0ZVZhbHVlKGV2ZW50LnNyY0VsZW1lbnQudmFsdWUpO1xuICAgIHRoaXMub25Ub3VjaCgpO1xuICB9XG5cbiAgd3JpdGVWYWx1ZSh2YWx1ZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5vbkNoYW5nZSh2YWx1ZSk7XG4gIH1cblxuICByZWdpc3Rlck9uQ2hhbmdlKGZuOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLm9uQ2hhbmdlID0gZm47XG4gIH1cblxuICByZWdpc3Rlck9uVG91Y2hlZChmbjogYW55KTogdm9pZCB7XG4gICAgdGhpcy5vblRvdWNoID0gZm47XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgYSBkaXNhYmxlZCBzdGF0ZVxuICAgKi9cbiAgc2V0RGlzYWJsZWRTdGF0ZShpc0Rpc2FibGVkOiBib29sZWFuKSB7XG4gICAgaWYgKGlzRGlzYWJsZWQpIHtcbiAgICAgIHRoaXMuZm9ybUdyb3VwLmdldCh0aGlzLmNvbmZpZy5pZCk/LmRpc2FibGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mb3JtR3JvdXAuZ2V0KHRoaXMuY29uZmlnLmlkKT8uZW5hYmxlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBlcnJvciBzdGF0ZSBmcm9tIEZvcm1Hcm91cCwgbXVzdCBiZSB0b3VjaGVkICYgaW52YWxpZFxuICAgKi9cbiAgZ2V0IGdldEVycm9yU3RhdGUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgICh0aGlzLmNvbmZpZy5mb3JtR3JvdXAuZ2V0KHRoaXMuY29uZmlnLmlkKT8udG91Y2hlZCAmJlxuICAgICAgICB0aGlzLmNvbmZpZy5mb3JtR3JvdXAuZ2V0KHRoaXMuY29uZmlnLmlkKT8uaW52YWxpZCkgPz9cbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgfVxuXG4gIGdldCBnZXRWYWx1ZUxlbmd0aCgpOiBudW1iZXIge1xuICAgIGlmICh0aGlzLmNvbmZpZy5mb3JtR3JvdXAuZ2V0KHRoaXMuY29uZmlnLmlkKT8udmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5mb3JtR3JvdXAuZ2V0KHRoaXMuY29uZmlnLmlkKT8udmFsdWUubGVuZ3RoO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gIH1cbn1cbiIsIjxkaXZcbiAgaWQ9XCJ7eyBjb25maWcuaWQgKyAnX2NvbnRhaW5lcicgfX1cIlxuICBjbGFzcz1cImlucHV0LXdyYXBwZXJcIlxuPlxuICA8Zm9ybVxuICAgIFtmb3JtR3JvdXBdPVwiY29uZmlnLmZvcm1Hcm91cFwiXG4gICAgW2F0dHIuYXV0b2NvbXBsZXRlXT1cImNvbmZpZy50eXBlICE9PSAnYXV0b2NvbXBsZXRlJyA/IHRydWUgOiBmYWxzZVwiXG4gID5cbiAgICA8ZGl2XG4gICAgICBjbGFzcz1cImlucHV0LWNvbnRhaW5lclwiXG4gICAgICBbbmdDbGFzc109XCJjb25maWcuc2l6ZVwiXG4gICAgPlxuICAgICAgPGRpdiBjbGFzcz1cImlucHV0LXRleHRcIj5cbiAgICAgICAgPGlyY2MtY2wtbGliLWxhYmVsXG4gICAgICAgICAgW2NvbmZpZ109XCJsYWJlbENvbmZpZ1wiXG4gICAgICAgICAgW2F0dHIuc2l6ZV09XCJjb25maWcuc2l6ZVwiXG4gICAgICAgID48L2lyY2MtY2wtbGliLWxhYmVsPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3M9XCJpbnB1dC1jb250ZW50LWFyZWFcIlxuICAgICAgICAgIFtuZ0NsYXNzXT1cImZvY3VzU3RhdGUgPT09IHRydWUgPyAnZm9jdXMnIDogJydcIlxuICAgICAgICA+XG4gICAgICAgICAgPCEtLSBuZ01vZGVsIGRvZXNuJ3QgbWluZCB1bmRlZmluZWQgdmFsdWVzLCBhcHBhcmVudGx5XG4gICAgICAgICAgVE9ETzogU2hvdWxkIHByb2JhYmx5IGNoYW5nZSB0aGUgKGtleXVwKSB0byAob25ibHVyKSAtLT5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIChibHVyKT1cIm9uVG91Y2hlZExhYmVsKClcIlxuICAgICAgICAgICAgKGZvY3VzKT1cIm9uRm9jdXMoKVwiXG4gICAgICAgICAgICAoY2hhbmdlKT1cImNoYW5nZVZhbHVlKCRldmVudClcIlxuICAgICAgICAgICAgbmFtZT1cInt7IGNvbmZpZy5pZCB9fVwiXG4gICAgICAgICAgICBjbGFzcz1cImlucHV0LWZpZWxkXCJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwie3sgY29uZmlnLnBsYWNlaG9sZGVyIHx8ICcnIHwgdHJhbnNsYXRlIH19XCJcbiAgICAgICAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICAgICAgICBbbmdDbGFzc109XCJcbiAgICAgICAgICAgICAgY29uZmlnLnR5cGUgPT09ICdwYXNzd29yZCdcbiAgICAgICAgICAgICAgICA/ICdpbnB1dC1wYXNzd29yZC1maWVsZCdcbiAgICAgICAgICAgICAgICA6ICdpbnB1dC10ZXh0LWZpZWxkJ1xuICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICNpbnB1dEVsXG4gICAgICAgICAgICBbdHlwZV09XCJ0eXBlQ29udHJvbFwiXG4gICAgICAgICAgICBbaWRdPVwiY29uZmlnLmlkXCJcbiAgICAgICAgICAgIFtmb3JtQ29udHJvbE5hbWVdPVwiY29uZmlnLmlkXCJcbiAgICAgICAgICAgIChrZXlkb3duLmVudGVyKT1cImVudGVyRXZlbnQoJGV2ZW50KVwiXG4gICAgICAgICAgICAoa2V5ZG93bi5lc2NhcGUpPVwiZXNjYXBlRXZlbnQoJGV2ZW50KVwiXG4gICAgICAgICAgICBbYXR0ci5hcmlhLWludmFsaWRdPVwiZm9ybUNvbnRyb2w/LmludmFsaWRcIlxuICAgICAgICAgICAgW2F0dHIuYXJpYS1saXZlXT1cIidvZmYnXCJcbiAgICAgICAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVwiXG4gICAgICAgICAgICAgIGZvcm1Db250cm9sPy5pbnZhbGlkICYmIHRvdWNoZWRcbiAgICAgICAgICAgICAgICA/IChjb25maWcubGFiZWwgfHwgJycgfCB0cmFuc2xhdGUpICtcbiAgICAgICAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICAgICAgICAoY29uZmlnLmRlc2MgfHwgJycgfCB0cmFuc2xhdGUpICtcbiAgICAgICAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICAgICAgICAoY29uZmlnLmhpbnQgfHwgJycgfCB0cmFuc2xhdGUpICtcbiAgICAgICAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICAgICAgICAoZXJyb3JTdHViVGV4dCArICc6ICcgKyBlcnJvckFyaWEpXG4gICAgICAgICAgICAgICAgOiAoY29uZmlnLmxhYmVsIHx8ICcnIHwgdHJhbnNsYXRlKSArXG4gICAgICAgICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgICAgICAgKGNvbmZpZy5kZXNjIHx8ICcnIHwgdHJhbnNsYXRlKSArXG4gICAgICAgICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgICAgICAgKGNvbmZpZy5oaW50IHx8ICcnIHwgdHJhbnNsYXRlKVxuICAgICAgICAgICAgXCJcbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgKm5nSWY9XCJjb25maWcudHlwZSA9PT0gJ3Bhc3N3b3JkJ1wiXG4gICAgICAgICAgICByb2xlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIGNhdGVnb3J5PVwicGxhaW5cIlxuICAgICAgICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICAgICAgICAgIGNsYXNzPVwicGFzc3dvcmRJY29uXCJcbiAgICAgICAgICAgIChjbGljayk9XCJoaWRlU2hvdygpXCJcbiAgICAgICAgICAgIFtkaXNhYmxlZF09XCJjdXJyZW50U3RhdHVzID09PSAnRElTQUJMRUQnXCJcbiAgICAgICAgICAgIGF0dHIuYXJpYS1sYWJlbD1cInt7IGJ0bkFyaWFMYWJlbCB9fVwiXG4gICAgICAgICAgICBhcmlhLWxpdmU9XCJwb2xpdGVcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgKm5nSWY9XCJzaG93UGFzc3dvcmRcIlxuICAgICAgICAgICAgICByb2xlPVwiaW1nXCJcbiAgICAgICAgICAgICAgYXR0ci5hcmlhLWxhYmVsPVwie3sgYnRuQXJpYUxhYmVsSGlkZSB9fVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmEtc29saWQgZmEtZXllLXNsYXNoXCI+PC9pPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICpuZ0lmPVwiIXNob3dQYXNzd29yZFwiXG4gICAgICAgICAgICAgIHJvbGU9XCJpbWdcIlxuICAgICAgICAgICAgICBhdHRyLmFyaWEtbGFiZWw9XCJ7eyBidG5BcmlhTGFiZWxTaG93IH19XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1leWVcIj48L2k+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgICAgICpuZ0lmPVwiY29uZmlnLnR5cGUgPT09ICdhdXRvY29tcGxldGUnICYmIGdldFZhbHVlTGVuZ3RoID4gMFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGlyY2MtY2wtbGliLWljb24tYnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzPVwiYXV0b2NvbXBsZXRlaWNvblwiXG4gICAgICAgICAgICAgIChjbGlja0V2ZW50KT1cImNsZWFydmFsdWUoKVwiXG4gICAgICAgICAgICAgIFtjb25maWddPVwiYnV0dG9uQXV0b0NvbXBsZXRlQ2xlYXJcIlxuICAgICAgICAgICAgICBbYXR0ci5zaXplXT1cImNvbmZpZy5zaXplXCJcbiAgICAgICAgICAgID48L2lyY2MtY2wtbGliLWljb24tYnV0dG9uPlxuICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBhcmlhLWxpdmU9XCJwb2xpdGVcIj5cbiAgICAgICAgPGRpdiAqbmdJZj1cImNvbmZpZy5mb3JtR3JvdXAuZ2V0KGNvbmZpZy5pZCk/LnRvdWNoZWQgJiYgY3VycmVudFN0YXR1cyA9PT0gJ0lOVkFMSUQnXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+e3tcbiAgICAgICAgICAgIGVycm9yU3R1YlRleHQgKyAnOiAnICsgKGNvbmZpZy5sYWJlbCB8fCAnJyB8IHRyYW5zbGF0ZSkgKyAnOiAnXG4gICAgICAgICAgfX08L3NwYW4+XG4gICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgZXJyb3JzIG9mIGVycm9ySWRzOyBsZXQgaSA9IGluZGV4XCI+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICpuZ0lmPVwiZm9ybUNvbnRyb2w/LmVycm9ycz8uW2Vycm9ycy5rZXldXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJyYWRpby1lcnJvcnNcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8aXJjYy1jbC1saWItZXJyb3JcbiAgICAgICAgICAgICAgICBbaWRdPVwiZXJyb3JzLmlkXCJcbiAgICAgICAgICAgICAgICBbZXJyb3JMT1ZdPVwiZXJyb3JzLmVycm9yTE9WXCJcbiAgICAgICAgICAgICAgICBbc2l6ZV09XCJjb25maWcuc2l6ZVwiXG4gICAgICAgICAgICAgID48L2lyY2MtY2wtbGliLWVycm9yPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZm9ybT5cbjwvZGl2PlxuIl19